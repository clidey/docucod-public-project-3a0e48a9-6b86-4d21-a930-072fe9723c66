---
title: "Field Helpers for Filters and Updates"
description: "Master the use of model-driven field helpers for building expressive, composable filters and updates. This guide illustrates common predicates, setters, and update patterns using generated field helpers."
---

# Field Helpers for Filters and Updates

Master the use of model-driven field helpers to build expressive, composable filters and updates in your GORM CLI-generated code. This guide walks you through common predicates, setters, and update patterns using the generated field helpers, enabling you to write clear, type-safe, and maintainable database operations.

---

## 1. Understanding Field Helpers

GORM CLI generates field helpers for every basic field and association in your model structs. These helpers enable you to build SQL conditions and perform updates fluently and safely.

- **Basic Field Helpers**: Typed wrappers like `field.String`, `field.Number[int]`, `field.Time`, and `field.Bool` for primitive and common Go types.
- **Association Field Helpers**: `field.Struct[T]` for related single structs and `field.Slice[T]` for slices representing has-many or many-to-many relations.

Each helper provides methods for common SQL predicates (filters) and setters (updates).

<Tip>
Field helpers reduce boilerplate and protect against SQL injection and type errors by providing structured, compile-time checked building blocks for your queries.
</Tip>

---

## 2. Common Predicates (Filters)

Use predicates to create WHERE clauses and filter query results. Below are the typical predicate methods available on generated field helpers:

| Predicate Method | Purpose                             | Example                                             |
|------------------|-----------------------------------|-----------------------------------------------------|
| `.Eq(value)`     | Equals (`field = value`)           | `generated.User.Name.Eq("alice")`                  |
| `.Ne(value)`     | Not equals (`field <> value`)      | `generated.User.Age.Ne(30)`                          |
| `.Gt(value)`     | Greater than                      | `generated.User.Age.Gt(18)`                          |
| `.Lt(value)`     | Less than                         | `generated.User.Age.Lt(60)`                          |
| `.Gte(value)`    | Greater than or equal to          | `generated.User.Score.Gte(50)`                       |
| `.Lte(value)`    | Less than or equal to             | `generated.User.Age.Lte(65)`                         |
| `.Like(value)`   | SQL LIKE pattern matching         | `generated.User.Name.Like("%jinzhu%")`             |
| `.In(values...)` | In a list (`field IN (...)`)      | `generated.User.Role.In("admin", "user")`       |
| `.NotIn(values...)` | Not in a list                  | `generated.User.Status.NotIn("banned", "inactive")` |
| `.Between(low, high)` | Between two values             | `generated.User.Age.Between(18, 65)`                 |
| `.IsNull()`      | IS NULL check                     | `generated.User.Score.IsNull()`                       |
| `.IsNotNull()`   | IS NOT NULL check                 | `generated.User.Profile.IsNotNull()`                  |

### Usage Example

```go
// Query users named "alice" who are adults (age >= 18)
users, err := gorm.G[User](db).
  Where(
    generated.User.Name.Eq("alice"),
    generated.User.Age.Gte(18),
  ).
  Find(ctx)
```

<Note>
Predicates can be combined using standard GORM query chaining, allowing flexible query composition.
</Note>

---

## 3. Setters and Updates

Field helpers also provide setters for building update statements and creating entities. They wrap the underlying SQL expressions or assignments.

### Basic Setter Methods

| Setter Method    | Purpose                                 | Example                                      |
|------------------|-----------------------------------------|----------------------------------------------|
| `.Set(value)`    | Sets field value for update or create  | `generated.User.Name.Set("alice")`         |
| `.SetExpr(expr)` | Sets from expression (SQL clause)       | `generated.User.Age.SetExpr(clause.Expr{SQL: "GREATEST(?, ?)" , Vars: []any{generated.User.Age.Column(), 18}})` |
| `.Incr(amount)`  | Increment numeric field by amount       | `generated.User.Score.Incr(5)`                |
| `.Decr(amount)`  | Decrement numeric field by amount       | `generated.User.Score.Decr(3)`                |

### Update Example

```go
// Update a user's name and increase age by 1
err := gorm.G[User](db).
  Where(generated.User.ID.Eq(1)).
  Set(
    generated.User.Name.Set("alice"),
    generated.User.Age.Incr(1),
  ).
  Update(ctx)
```

### Create Example

```go
// Create a new user
err := gorm.G[User](db).
  Set(
    generated.User.Name.Set("bob"),
    generated.User.Age.Set(30),
  ).
  Create(ctx)
```

<Tip>
Use `.SetExpr()` for complex or database-specific expressions where you want to inject raw SQL safely.
</Tip>

---

## 4. Working with Association Field Helpers

Associations appear as `field.Struct[T]` (single related record) or `field.Slice[T]` (multiple related records).

These helpers provide methods to operate on related records embedded in your models.

### Association Operations

| Operation        | Description                                       | Example                                                 |
|------------------|-------------------------------------------------|---------------------------------------------------------|
| `.Create(setters)`         | Create and link a new associated record       | `generated.User.Pets.Create(generated.Pet.Name.Set("fido"))` |
| `.CreateInBatch([]T)`      | Batch create multiple associated records       | `generated.User.Languages.CreateInBatch([]models.Language{{Code:"EN"}, {Code:"FR"}})` |
| `.Update(setters)`         | Update associated records matching filters     | `generated.User.Pets.Where(generated.Pet.Name.Eq("fido")).Update(generated.Pet.Name.Set("rex"))` |
| `.Unlink()`                | Remove association links without deleting data | `generated.User.Pets.Unlink()`                            |
| `.Delete()`                | Delete associated rows or join table records    | `generated.User.Pets.Delete()`                           |
| `.Where(predicates)`       | Filter associations before update/unlink/delete | Use to restrict affected associated records         |

### Association Update Example

```go
// Update pet named 'fido' for user ID 1
err := gorm.G[User](db).
  Where(generated.User.ID.Eq(1)).
  Set(
    generated.User.Pets.Where(generated.Pet.Name.Eq("fido")).
      Update(generated.Pet.Name.Set("rex")),
  ).
  Update(ctx)
```

### Association Unlink Example

```go
// Remove pet association without deleting pet
err := gorm.G[User](db).
  Where(generated.User.ID.Eq(1)).
  Set(
    generated.User.Pets.Unlink(),
  ).
  Update(ctx)
```

<Note>
Unlink semantics vary by association type: they clear foreign keys or delete join table rows but do not delete the associated data.
</Note>

---

## 5. Best Practices and Tips

- **Use Generated Helpers Directly**: Always use the generated helpers (`generated.User.Field`) for predicates and setters instead of raw column names to avoid errors.
- **Combine Predicates**: Chain predicates to form complex WHERE clauses seamlessly.
- **Prefer Setters for Updates**: Use setters in `Set(...)` calls to ensure generated code respects zero-values correctly.
- **Use `.Where()` on Associations**: Filter associated records before applying `.Update()`, `.Unlink()`, or `.Delete()` to target specific subsets.
- **Leverage `.Incr()` and `.Decr()`**: Express arithmetic updates clearly and safely.
- **Custom Field Helpers**: Use generation config to map custom field helpers for JSON and other advanced types.

<Tip>
Closely follow the pattern of chaining `.Where()` and `.Update()` on associations to avoid unintended broad changes.
</Tip>

---

## 6. Troubleshooting Common Issues

<AccordionGroup title="Troubleshooting Field Helpers">  
<Accordion title="Predicate Methods Not Available on Field">  
Make sure you are importing the correct generated package and using the helpers from the generated model. Confirm that your model struct fields are exported and included in code generation.

If a field type is unsupported, add mapping in `genconfig.Config` to assign a correct helper type.
</Accordion>  
<Accordion title="Updates Not Applying as Expected">  
Check that you surround setters with `Set(...)` and call `.Update(ctx)` or `.Create(ctx)` on your query. Zero values must use setters explicitly or can be skipped unintentionally.
</Accordion>  
<Accordion title="Association Operations Failing">  
Verify foreign key relationships are set in your GORM models. When using `.Where()` on associations, ensure predicates target the correct field helper.

Use the generated association helpers consistently to avoid FK or join table mistakes.
</Accordion>  
<Accordion title="Custom Field Types Not Wrapped Correctly">  
Use package-level `genconfig.Config` to declare `FieldNameMap` or `FieldTypeMap` for custom or third-party types to define the helper wrapper.
</Accordion>  
</AccordionGroup>

---

## 7. Next Steps & Related Content

- [Using Type-Safe Query APIs](/guides/getting-started-workflows/using-type-safe-queries) to integrate field helpers with your queries
- [Working with Associations](/guides/advanced-usage-patterns/working-with-associations) for deeper association manipulation
- [Customization and Generation Config](/guides/advanced-usage-patterns/customization-and-config) to tailor your helper mappings
- Explore examples in the [README.md Examples](https://github.com/go-gorm/cli/blob/main/README.md) for practical code snippets

---

## Summary
Using GORM CLI-generated field helpers empowers you to write clear, type-safe database queries and updates. Start by applying predicates on generated fields for filtering, craft update statements with setters, and operate confidently on associations. Follow best practices to avoid common pitfalls, and leverage configuration overrides to support custom fields.


---