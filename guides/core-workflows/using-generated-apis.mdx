---
title: "Using Generated APIs in Your Application"
description: "Practical guide to leveraging generated query interfaces and field helpers in real code. Includes concrete usage examples for querying, filtering, updating, creating, and associating models with compile-time safety."
---

# Using Generated APIs in Your Application

Welcome to the practical guide for leveraging the powerful, type-safe query interfaces and model-driven field helpers generated by GORM CLI. This page focuses exclusively on how to **use the generated code effectively** within your Go application to perform querying, filtering, creating, updating, and managing associations with **compile-time safety and fluent APIs**.

---

## Workflow Overview

### What You Will Achieve
This guide helps you confidently use the generated Go methods and helpers to:
- Query single and multiple records using SQL template-driven methods.
- Filter and search data with fluent, strongly typed predicates.
- Perform CRUD operations using model-driven field setters.
- Manage complex associations with safe create, update, unlink, and delete operations.

### What You Need Ready
- Your GORM CLI generated code, including query interfaces and field helper structs (usually generated via `gorm gen` commands).
- Basic familiarity with GORM and Go generics syntax.
- An active `*gorm.DB` database connection and `context.Context` in your application.

### Expected Outcome
By following this guide, you will integrate generated APIs into your Go code, ensuring safer data access with minimal boilerplate and eliminating many common runtime errors related to SQL and schema mismatches.

### Time Commitment
Roughly 15–30 minutes for initial familiarization and 1–2 hours to apply successfully in your project, depending on complexity.

### Difficulty
Intermediate: Some experience with Go, GORM, and generics is recommended.

---

## Step-by-Step Usage Instructions

### 1. Import Your Generated Package
Ensure your main application imports the package where the generated code resides. It usually looks like:

```go
import (
  "context"
  "gorm.io/gorm"

  "your/project/generated"
)
```


### 2. Querying Data Using Generated Query Interfaces
Your generated query interface looks like a generic function, e.g., `generated.Query[User](db)`.

- **Fetch by ID example:**

```go
// Fetch a single user by ID
user, err := generated.Query[User](db).GetByID(ctx, 123)
if err != nil {
  // handle error
}
// use user object
```

- **Filter with multiple parameters:**

```go
// Find users named "jinzhu" age 25
users, err := generated.Query[User](db).FilterByNameAndAge("jinzhu", 25).Find(ctx)
if err != nil {
  // handle error
}
// use users slice
```

- **Complex query with SQL template conditions:**

```go
userInput := models.User{Name: "jinzhu", Age: 25}
filteredUsers, err := generated.Query[User](db).QueryWith(userInput).Find(ctx)
```


<Tip>
Methods generated from SQL-marked interfaces generally have automatic `context.Context` injection if omitted. Always pass `ctx` when calling methods explicitly for clarity.
</Tip>

### 3. Using Model-Driven Field Helpers for Filtering
Generated model structs provide **strongly typed field helpers** for building where clauses.

Example: Find users older than 18:

```go
users, err := gorm.G[User](db).
  Where(generated.User.Age.Gt(18)).
  Find(ctx)
```

Common predicate methods include:
- `Eq(value)` – equal
- `Gt(value)` / `Lt(value)` – greater/smaller than
- `Like(pattern)` – SQL LIKE
- `Between(start, end)` – range
- `IsNull()` / `IsNotNull()` – null checks

### 4. Creating and Updating Records with Setters
Use the generated setters both in `Create(ctx)` and `Update(ctx)` operations.

- **Creating a new record:**

```go
gorm.G[User](db).
  Set(
    generated.User.Name.Set("alice"),
    generated.User.Age.Set(30),
    generated.User.IsAdult.Set(true),
  ).
  Create(ctx)
```

- **Updating an existing record:**

```go
gorm.G[User](db).
  Where(generated.User.ID.Eq(1)).
  Set(
    generated.User.Name.Set("alice_updated"),
    generated.User.Age.Incr(1), // increment by 1
  ).
  Update(ctx)
```

### 5. Managing Associations
Associations are exposed as fields such as `generated.User.Pets` or `generated.User.Languages` depending on your models.

Supported operations include:

| Operation   | Purpose                                      |
|-------------|----------------------------------------------|
| Create      | Create and associate related records         |
| CreateInBatch | Batch create and link multiple related rows |
| Update      | Update associated rows matching conditions   |
| Unlink      | Remove links only (clear FK or delete join)  |
| Delete      | Delete associated rows (including m2m join)  |

Examples:

- **Create a user with one pet:**

```go
gorm.G[User](db).
  Set(
    generated.User.Name.Set("alice"),
    generated.User.Pets.Create(generated.Pet.Name.Set("fido")),
  ).
  Create(ctx)
```

- **Update a user's pet's name:**

```go
gorm.G[User](db).
  Where(generated.User.ID.Eq(1)).
  Set(
    generated.User.Pets.Where(generated.Pet.Name.Eq("fido")).
    Update(generated.Pet.Name.Set("rex")),
  ).
  Update(ctx)
```

- **Unlink and Delete:**

```go
gorm.G[User](db).
  Where(generated.User.ID.Eq(1)).
  Set(generated.User.Pets.Unlink()).
  Update(ctx)

// Or delete associated pets aggressively

gorm.G[User](db).
  Where(generated.User.ID.Eq(1)).
  Set(generated.User.Pets.Delete()).
  Update(ctx)
```

### 6. Working with Template-Based Queries
For advanced dynamic queries built in interfaces with templated SQL:

```go
// Executes an update query built from SQL templates
err := generated.Query[User](db).UpdateUser(ctx, User{Name: "jinzhu", Age: 20}, 1)
```

Such queries provide customizable where, set, and conditional clauses with compile-time checked parameters.

---

## Practical Examples

```go
// Fetch user by ID
user, err := generated.Query[User](db).GetByID(ctx, 123)
if err != nil {
  log.Fatalf("failed to get user: %v", err)
}

// Find users named "alice" aged 30
users, err := generated.Query[User](db).FilterByNameAndAge("alice", 30).Find(ctx)

// Create a user and link multiple languages
err = gorm.G[User](db).
  Set(
    generated.User.Name.Set("polyglot"),
    generated.User.Languages.CreateInBatch([]models.Language{{Code: "EN"}, {Code: "FR"}}),
  ).
  Create(ctx)

// Increment age of user with ID 42
err = gorm.G[User](db).
  Where(generated.User.ID.Eq(42)).
  Set(generated.User.Age.Incr(1)).
  Update(ctx)

// Unlink a pet named "fido" from user 1
err = gorm.G[User](db).
  Where(generated.User.ID.Eq(1)).
  Set(generated.User.Pets.Where(generated.Pet.Name.Eq("fido")).Unlink()).
  Update(ctx)
```

---

## Troubleshooting and Tips

<AccordionGroup title="Common Issues and Resolutions">
<Accordion title="Method Missing on Generated Interface">
- Verify the input file passed to `gorm gen` included the interface defining the method.
- Confirm your interface methods have valid SQL annotations in comments.
- Check if `IncludeInterfaces` or `ExcludeInterfaces` filters in `genconfig.Config` exclude it.
</Accordion>
<Accordion title="Generated Code Fails to Compile">
- Confirm imports are correctly handled and `gorm.io/cli/gorm/generated` or output package is in your Go module.
- Ensure Go 1.18+ is used to support generics.
- Validate your model struct definitions and that the generation ran successfully without errors.
- Run `go mod tidy` to fix module dependencies.
</Accordion>
<Accordion title="Association Operations Not Working">
- Double check the association definitions in your models match how you're using fields.
- Use the right helper methods (`Create`, `Update`, `Unlink`, `Delete`).
- Confirm foreign keys and join tables exist and are mapped properly.
</Accordion>
</AccordionGroup>

<Tip>
When updating related models, use filtering on association helpers (`Where(...)`) to avoid unexpected bulk changes.
</Tip>

<Tip>
Use the `Find(ctx)` or `Take(ctx)` GORM methods on generated query interfaces to execute the underlying queries and retrieve results.
</Tip>

---

## Best Practices

- Leverage generated predicates and setters for all filtering and updates instead of raw strings.
- Define carefully your SQL templates to ensure clear and maintainable generated query methods.
- Use configuration (`genconfig.Config`) to map custom field types or narrow generation scope for large projects.
- Manage associations explicitly using provided methods for clarity and safety.

---

## Next Steps & Related Content

- Explore [Getting Started: Code Generation](https://yourdocsite.com/guides/core-workflows/getting-started-generation) to learn defining interfaces and generating code.
- Deepen knowledge with [Customizing Code Generation with Config](https://yourdocsite.com/guides/core-workflows/customizing-generation-config) to tailor generation.
- Consult [Working With Associations](https://yourdocsite.com/guides/best-practices-patterns/associations-and-relations) for advanced relationship patterns.
- Review [Template-Based Queries](https://yourdocsite.com/guides/best-practices-patterns/template-based-queries) for flexible SQL templating techniques.


---

For detailed API references, advanced examples, and troubleshooting advice, always refer to the full GORM CLI documentation and generated code comments.

---

Enjoy leveraging GORM CLI's generation power for safer, more productive database interactions in your Go projects!

---

## Quick Reference

| Action                | Example Call                                   |
|-----------------------|-----------------------------------------------|
| Query by ID           | `generated.Query[User](db).GetByID(ctx, 123)` |
| Filter users          | `gorm.G[User](db).Where(generated.User.Age.Gt(18)).Find(ctx)` |
| Create with fields    | `gorm.G[User](db).Set(generated.User.Name.Set("alice")).Create(ctx)` |
| Update with increments| `gorm.G[User](db).Where(generated.User.ID.Eq(1)).Set(generated.User.Age.Incr(1)).Update(ctx)` |
| Create association    | `generated.User.Pets.Create(generated.Pet.Name.Set("fido"))` |
| Unlink association    | `generated.User.Pets.Unlink()`               |


---

# Links

- [GORM CLI GitHub Repository](https://github.com/go-gorm/cli)
- [Getting Started: Code Generation](https://yourdocsite.com/guides/core-workflows/getting-started-generation)
- [Basic Configuration](https://yourdocsite.com/getting-started/configuration-first-usage/basic-configuration)
- [Working With Associations](https://yourdocsite.com/guides/best-practices-patterns/associations-and-relations)
- [Template-Based Queries](https://yourdocsite.com/guides/best-practices-patterns/template-based-queries)


---