---
title: "Integration with Go and GORM"
description: "Learn how GORM CLI integrates seamlessly with GORM and your existing Go project, including prerequisites, Go versions, and the typical points where CLI-generated code fits your workflow and codebase."
---

# Integration with Go and GORM

Discover how GORM CLI fits naturally into your Go development environment and GORM projects. This guide elucidates the integration points, prerequisites, and workflow considerations to seamlessly adopt the CLI-generated code into your codebase.

---

## Why Integration Matters

GORM CLI is designed to complement GORM—the popular Go ORM—by generating type-safe, interface-driven query APIs and model field helpers. Understanding the integration points ensures you harness the CLI’s power effectively while maintaining idiomatic Go and GORM patterns.

By integrating at the right steps, you gain compile-time safety, fluent query construction, and association helpers without sacrificing flexibility or performance.

---

## Prerequisites and Environment

Before integrating generated code into your project, ensure the following:

- **Go Version:** GORM CLI requires Go 1.18 or newer to support generics.
- **GORM Version:** Your project should be using `gorm.io/gorm` as the ORM base.
- **Project Structure:** Organize your Go interfaces (with SQL templates) and model structs in packages accessible to the CLI generator.

> Tip: Maintain your models and interfaces in the same package or directory for easier generation and import management.

---

## Where GORM CLI Fits in Your Workflow

The CLI-generated code creates two core pieces:

1. **Query APIs from Interfaces:** Concrete, type-safe implementations of your SQL-annotated Go interfaces.
2. **Field Helpers from Model Structs:** Strongly typed helpers for constructing queries, updates, and association operations.

### Typical Workflow:

1. **Define Models and Interfaces**
   - Write your GORM model structs with standard Go struct definitions.
   - Design Go interfaces with methods commented by SQL templates to specify query behavior.

2. **Run the GORM CLI Generator**
   - Invoke `gorm gen -i ./path/to/interfaces -o ./generated/code`.
   - This generates Go source files with fluent query APIs and field helpers that align with your models.

3. **Import Generated Code**
   - Import the output package(s) into your project.
   - Leverage the generated APIs for type-safe queries, filters, and association management.

4. **Integrate into Business Logic**
   - Use generated interfaces as drop-in replacements or abstractions over raw GORM DB operations.
   - Benefit from editor autocomplete, compile-time checks, and easier refactoring.

---

## Example: Using Generated APIs in Your Project

Assume you have the following setup:

```go
// models/user.go
package models

import "gorm.io/gorm"

type User struct {
  gorm.Model
  Name string
  Age  int
}

// queries/user_query.go
package queries

type UserQuery[T any] interface {
  // SELECT * FROM @@table WHERE id=@id
  GetByID(id int) (T, error)
}
```

1. Generate the code:

```bash
gorm gen -i ./queries -o ./generated
```

2. Use the generated API:

```go
package main

import (
  "context"
  "gorm.io/gorm"
  "yourproject/generated"
  "yourproject/models"
)

func main() {
  ctx := context.Background()
  db, _ := gorm.Open(/* ... */)

  userAPI := generated.UserQuery[models.User](db)

  user, err := userAPI.GetByID(ctx, 123)
  if err != nil {
    // handle error
  }

  // Use user
  println(user.Name)
}
```

This flow ensures your queries reflect your SQL templates with strong typing backed by Go generics.

---

## Code Integration Best Practices

- **Project Organization**
  - Keep your interfaces and models in clearly defined packages to simplify CLI scanning and generation.
  - Consider aligning the `genconfig.Config.OutPath` with your project code structure to avoid import confusion.

- **Generation Frequency**
  - Run CLI generation after model or interface changes to keep generated code up to date.
  - Automate generation during your build or CI pipelines for consistency.

- **Custom Configuration**
  - Use `genconfig.Config` to customize output directory, included interfaces, field mappings, and generation scope.

- **Dependency Management**
  - Ensure your project’s `go.mod` includes `gorm.io/cli/gorm` and `gorm.io/gorm` modules to avoid unresolved dependencies.

---

## Troubleshooting Integration Issues

<AccordionGroup title="Common Integration Challenges">
<Accordion title="Generated Code Not Found or Import Errors">
- Verify that the `-o` output path you use with `gorm gen` is part of your module’s import path.
- Confirm the generated package names align with your import statements.
- Run `go mod tidy` after generation to update dependencies.
</Accordion>

<Accordion title="Go Version Compatibility">
- Ensure you use Go 1.18+ to generate and consume generic APIs.
- Older Go versions will raise compile errors due to generics usage.
</Accordion>

<Accordion title="Model or Interface Changes Not Reflected">
- Re-run `gorm gen` after any change in interfaces or models.
- Ensure no errors appear during generation.
- Check for generation config overrides (`genconfig.Config`) that may exclude certain files or interfaces.
</Accordion>
</AccordionGroup>

---

## Summary

GORM CLI fits naturally into your Go + GORM project, harnessing generics and template-driven code generation to produce type-safe, ergonomic query APIs and model helpers. By integrating at the interface and model levels, it empowers you to write reliable, maintainable data access code with minimal boilerplate.

---

## Additional Resources

- [Quickstart: Your First Workflow](../getting-started/project-configuration-run/quickstart-overview) – Step-by-step setup and generation tutorial.
- [Basic Configuration & Structure](../getting-started/project-configuration-run/basic-config-setup) – Organizing your code and configuring generation.
- [Working with Associations Safely](../guides/advanced-usage-patterns/working-with-associations) – Deep dive into association handling.
- [Generation Config Best Practices](../guides/advanced-usage-patterns/generation-config-best-practices) – Tailor generation to your project needs.

---

## See Also

- [GORM CLI README](../../../README.md) for full feature overview and usage.
- [Architecture Overview](../system-architecture/architecture-diagram) for the end-to-end integration pipeline.
- [Core Concepts & Terminology](../system-architecture/core-concepts-terminology) to grasp key components.

---

_Source code and examples are available in the [GORM CLI GitHub repository](https://github.com/go-gorm/cli).

---