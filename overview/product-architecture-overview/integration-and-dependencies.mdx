---
title: "Integration & Dependencies"
description: "Learn how GORM CLI fits into existing Go and GORM workflows, what dependencies are required (Go 1.18+, gorm.io/gorm), and how the generated code integrates into applications and CI/CD pipelines. Understand how you can configure the generation and how outputs are structured."
---

# Integration & Dependencies

GORM CLI integrates smoothly into Go projects using GORM, providing powerful, type-safe query APIs and model field helpers through code generation. This page explains how GORM CLI fits into typical Go and GORM workflows, outlines its dependencies, details how the generated code is structured and integrated into applications, and guides you on configuring generation behavior for seamless CI/CD incorporation.

---

## Why Integration & Dependencies Matter

Understanding how GORM CLI operates within your existing Go ecosystem and GORM-based projects ensures you can leverage it effectively without surprises. Proper integration guarantees that the generated code aligns well with your application's build processes, dependency management, and runtime environment, creating a smooth developer experience and robust automation pipelines.


## Core Dependencies

GORM CLI builds on essential Go and GORM components. Ensure these dependencies are met to use GORM CLI effectively:

- **Go Version:** Go 1.18 or higher is required for generics support, which GORM CLI leverages extensively to generate type-safe APIs.

- **GORM:** The `gorm.io/gorm` package is a foundational dependency. Generated code assumes the presence of GORM's core APIs for database interaction, predicate construction, and association management.


### What This Means For You

Make sure your project modules and CI environments are set up to use Go 1.18+ and have `gorm.io/gorm` included as a dependency. This ensures compile-time and runtime compatibility with the generated output.


## How GORM CLI Fits Into Your Workflow

GORM CLI listens to your source code packages — scanning model structs and interfaces annotated with SQL templates — then auto-generates:

- **Type-safe query interfaces:** Interfaces with methods decorated by SQL templates become concrete, strongly-typed query APIs.

- **Field helpers for your models:** Your model structs translate into fluent, discoverable helper types that simplify predicates, updates, and associations.


### Integration Flow Overview

1. **Define Models & Interfaces:** Write your Go structs (models) and interfaces (with embedded SQL templates in comments).
2. **Run Generation:** Use the `gorm gen` CLI command to scan your source directories.
3. **Generated Output:** Auto-generated Go files with query APIs and typed field helpers appear under the specified output directory.
4. **Use in Application:** Import and use the generated packages in your application code to write safer, smoother database queries.


<Steps>
<Step title="Define Sources">
Write your model structs and query interfaces in your source directory.
</Step>
<Step title="Run GORM CLI Generation">
Invoke CLI with `gorm gen -i ./path/to/src -o ./generated`.
</Step>
<Step title="Import Generated Code">
In your app, import generated packages and use the typed APIs.
</Step>
<Step title="Build & Deploy">
Compile your app with generated code included; integrate into CI/CD pipelines.
</Step>
</Steps>


## Configuring Generation and Output Structure

GORM CLI allows flexible configuration via optional package-level `genconfig.Config` values that customize generation behavior, output paths, and filtering.

### Key Configuration Options

- **OutPath:** Specify the directory where generated files will be written. Defaults to `./g` if unspecified.

- **Include/Exclude Filters:** Control which interfaces or structs are processed with shell-style patterns or type literals.

- **FileLevel:** Apply config only at the file level instead of whole package/directory.

- **FieldTypeMap / FieldNameMap:** Customize mapping of Go types or field gen tags to generated helper types.


### Sample Configuration

```go
var _ = genconfig.Config{
  OutPath: "generated",

  IncludeInterfaces: []any{"Query*"},

  FieldTypeMap: map[any]any{
    sql.NullTime{}: field.Time{},
  },

  FieldNameMap: map[string]any{
    "json": JSON{},
  },
}
```

This example generates code into the `generated` directory, includes only interfaces starting with "Query", and maps specific Go types and field tags to field helpers.


## Generated Code Structure

Generated code maintains your source package structure, preserving relative paths under the configured output directory.

- Each Go file containing interfaces or structs produces a corresponding generated file with the same relative path.

- Imports, interface implementations, and structs are aligned and merged respecting configurations.

- Code is formatted automatically using `golang.org/x/tools/imports` to keep it idiomatic.


## Integration into CI/CD Pipelines

To incorporate the generation step into your automated build workflows:

- **Install GORM CLI:** Ensure `gorm` CLI is installed in your build environment.

- **Run Code Generation:** Add commands like `gorm gen -i ./path/to/src -o ./generated` as part of build or pre-commit hooks.

- **Validation:** Fail builds if generated code is out of date or generation errors occur.

- **Version Control:** Optionally commit generated code or generate it as an ephemeral artifact on build.


<Tip>
Automate generation to maintain synchronization between interfaces/models and generated APIs, ensuring reliability and reducing manual errors.
</Tip>


## Best Practices for Integration

- Keep model and interface definitions close together or within the same module for easier generation and configuration.

- Use configuration files (`genconfig.Config`) to fine-tune generation scope and customization without manual intervention.

- Align your module versions and Go toolchain versions across development and CI environments.

- Regularly validate generated code to catch template or interface mismatches early.


## Troubleshooting Common Integration Issues

<AccordionGroup title="Common Integration Pitfalls and Solutions">
<Accordion title="Go Version Compatibility">
Ensure you use Go 1.18 or newer. Older versions will not support the generics used by generated code, causing compilation failures.
</Accordion>
<Accordion title="Missing GORM Dependency">
Verify your project imports `gorm.io/gorm` at a compatible version. Generated code relies on GORM for API implementation.
</Accordion>
<Accordion title="Incorrect Output Path">
Mismatch or omission in the OutPath config may cause generated files to appear in unexpected directories, leading to import errors.
Double check your config and CLI flags.
</Accordion>
<Accordion title="Config Filter Misuse">
Overly restrictive Include/Exclude filters may prevent expected interfaces or structs from generating code. Use shell-style patterns carefully.
</Accordion>
</AccordionGroup>


## Summary

GORM CLI requires Go 1.18+ and `gorm.io/gorm` to function. It integrates seamlessly into Go projects by generating code from source interfaces and models, outputting neatly structured, idiomatic Go files for usage in your application and CI/CD. Configuration via `genconfig.Config` fine-tunes output and scope, enabling smooth integration and automated generation. Adhering to the best practices outlined here ensures efficient and error-free adoption within your Go and GORM workflows.

---

## Related Documentation

- [What is GORM CLI?](/overview/introduction-and-key-concepts/what-is-gorm-cli) — Understand the core product purpose and features.
- [System Architecture](/overview/product-architecture-overview/architecture-diagram) — Visualize how components and generation fit together.
- [Customizing Generation with genconfig](/guides/advanced-patterns/customizing-generation) — Deep dive into configuration options.
- [Quickstart: Generate and Use Type-Safe APIs](/guides/core-workflows/quickstart-guide) — Start generating and using your APIs quickly.

---

*For more information, consult the [GORM CLI GitHub repository](https://github.com/go-gorm/cli) and explore example projects included in the source.*
