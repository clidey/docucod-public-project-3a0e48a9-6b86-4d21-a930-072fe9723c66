---
title: "System Architecture & Data Flow"
description: "Visualize how GORM CLI orchestrates code generation—from model and interface discovery to output creation. Learn about its key components and see a mermaid diagram of the high-level workflow: CLI entry, code parsing, template application, and file output."
---

# System Architecture & Data Flow

GORM CLI streamlines the process of generating type-safe query code and model-driven helpers by transforming your Go source files into ready-to-use APIs and utilities. This page takes you through the high-level architecture and data flow behind GORM CLI — from the moment you invoke the CLI to the delivery of generated code files.

---

## Why Understand the Architecture?

Knowing how GORM CLI processes your interfaces and models helps you:

- Anticipate how to structure your code for effective generation
- Debug issues related to code discovery or output formatting
- Customize generation using configs and filters

This insight empowers you to maximize the productivity gains GORM CLI offers.

---

## High-Level Workflow

At its core, GORM CLI operates as a pipeline consisting of four major steps:

1. **CLI Entry & Argument Parsing**
2. **Source Code Parsing & Analysis**
3. **Code Generation via Template Application**
4. **Writing Generated Files to Disk**

Each step plays a critical role in turning your raw Go interfaces and structs annotated with SQL templates and metadata into concrete, strongly typed APIs.

```mermaid
flowchart TD

  CLI["CLI Entry: gorm gen -i <input> -o <output>"] --> Parse["Parse Inputs & Flags"]
  Parse --> CodeParse["Parse Go Source Files & Build AST"]
  CodeParse --> Analyze["Analyze Interfaces, Structs, & Genconfigs"]
  Analyze --> Template["Apply Templates to Produce Code"]
  Template --> Format["Format & Fix Imports"]
  Format --> Write["Write Generated Code to Output Directory"]
  Write --> Done["Generation Complete"]

  %% Details
  subgraph "Code Parsing & Analysis"
    CodeParse -->|Walk AST| ExtractConcepts["Extract Interfaces, Methods, Structs"]
    ExtractConcepts -->|Apply Filters| FilteredData["Filter via genconfig Includes/Excludes"]
  end

  subgraph "Template Application"
    Template --> ExpTemplates["Render pkgTmpl with extracted data"]
  end

  %% Style
  class CLI,Done fill:#4CAF50,stroke:#000,color:#fff
  class Parse,CodeParse,Analyze,Template,Format,Write fill:#2196F3,stroke:#000,color:#fff

