---
title: "Configuration & Extensibility"
description: "Discover how to customize code generation with `genconfig.Config`: set output paths, field mappings, and include/exclude rules to tailor the generator to your project's needs."
---

# Configuration & Extensibility

Customize your use of GORM CLI generator with `genconfig.Config` to tailor output paths, field helper behaviors, and interface/struct inclusion rules. This page guides you through flexible configuration options so you can align generated code with your project's structure and coding practices.

---

## Why Configure GORM CLI Generation?

By default, GORM CLI guesses sensible defaults for output location and code generation based on your input Go files. However, every project has unique needs:

- Organizing generated code in specific directories
- Mapping Go field types or struct tags to custom helper types
- Limiting generation scope by whitelisting or blacklisting specific interfaces and models

These configuration capabilities let you maintain clean codebases, reduce manual adjustments, and incorporate domain-specific conventions.

---

## What Is `genconfig.Config`?

`genconfig.Config` is a Go struct you declare in your source package files to control generation behavior per package or file.

It supports:

- **OutPath**: Override the output directory for generated files from this package
- **FieldTypeMap**: Map Go types to field helpers (e.g., map `sql.NullTime{}` to a `field.Time{}` helper)
- **FieldNameMap**: Map struct tag names to helper types (e.g., map `gen:"json"` tag to a `JSON{}` helper)
- **Include/Exclude Interfaces**: Whitelist or blacklist interface types to generate
- **Include/Exclude Structs**: Whitelist or blacklist struct types to generate
- **FileLevel**: When true, the config applies only to the single file it's declared in; otherwise, it applies package-wide

---

## Declaring Your Configuration

Place a package-level variable of type `genconfig.Config` in your Go source file where the generator will scan it automatically.

Example:

```go
package examples

import (
  "database/sql"
  "gorm.io/cli/gorm/genconfig"
  "gorm.io/cli/gorm/field"
)

var _ = genconfig.Config{
  OutPath: "examples/output",
  FieldTypeMap: map[any]any{
    sql.NullTime{}: field.Time{},
  },
  FieldNameMap: map[string]any{
    "date": field.Time{},    // Map struct tags named `date` to Time helper
    "json": JSON{},          // Use custom JSON helper for `json` tag
  },
  IncludeInterfaces: []any{},
}
```

---

## Key Configuration Options Explained

### OutPath

Specify your preferred output directory for generated files from this package.

For example, setting `OutPath: "examples/output"` ensures code is generated inside `examples/output` rather than default paths.

---

### FieldTypeMap

This map relates concrete Go types to custom wrapper helper types.

Common use cases:
- Replace standard SQL types with richer helpers (e.g., `sql.NullTime{}` â†’ `field.Time{}`)
- Integrate custom wrappers for serialization or data shaping

Example:

```go
FieldTypeMap: map[any]any{
  sql.NullTime{}: field.Time{},
},
```

The generator detects these mappings to produce generated helpers that leverage enhanced behavior.

---

### FieldNameMap

Some fields require custom behavior driven by struct tags.

Example: mapping a `gen:"json"` tag to a JSON field helper lets you perform JSON-aware queries.

Example:

```go
FieldNameMap: map[string]any{
  "json": JSON{},
},
```

If a struct field has the tag `gen:"json"`, the generator uses the JSON helper instead of the default.

---

### Include/Exclude Interfaces and Structs

Focus generation on relevant types by using whitelist or blacklist rules.

- **IncludeInterfaces**: If set, only interfaces matching these patterns will be generated
- **ExcludeInterfaces**: Skip generating code for matching interfaces
- **IncludeStructs**: Only generate helpers for listed struct names
- **ExcludeStructs**: Skip generating code for listed structs

Patterns support shell-style wildcards such as `Query*` or fully qualified names.

Example:

```go
var _ = genconfig.Config{
  IncludeInterfaces: []any{"Query*"},      // Only interfaces starting with "Query"
  ExcludeInterfaces: []any{"*Deprecated*"}, // Exclude "Deprecated" interfaces
  IncludeStructs: []any{"User", "Account*"},
}
```

These filters enable lean generation and better focused APIs.

---

### FileLevel

By default, configs apply to the entire package.

Set `FileLevel: true` to narrow scope to only the single file declaring the config.

This supports mixed generation strategies across different files within the same package.

Example:

```go
var _ = genconfig.Config{
  FileLevel: true,
  OutPath: "examples/output",
}
```

---

## Real-World Configuration Examples

### Example 1: Basic Configuration

```go
package examples

import (
	"database/sql"
	"gorm.io/cli/gorm/field"
	"gorm.io/cli/gorm/genconfig"
)

var _ = genconfig.Config{
	OutPath: "examples/generated",
	FieldTypeMap: map[any]any{
		sql.NullTime{}: field.Time{},
	},
	FieldNameMap: map[string]any{
		"json": JSON{},
	},
	IncludeInterfaces: []any{"Query*"},
}
```

### Example 2: Pattern Filtering

```go
package pattern

import "gorm.io/cli/gorm/genconfig"

var _ = genconfig.Config{
  IncludeInterfaces: []any{"Query*"},  // Generate only interfaces whose names start with "Query"
}
```

### Example 3: Excluding Types

```go
package nested

import "gorm.io/cli/gorm/genconfig"

var _ = genconfig.Config{
  FileLevel:      false,
  ExcludeInterfaces: []any{"I3"},    // Exclude interface named "I3"
  ExcludeStructs:    []any{"S3"},   // Exclude struct named "S3"
}
```

---

## Best Practices & Tips

- **Place your configuration file next to the source interfaces/models** it controls.
- Use **Include* filters to explicitly whitelist important interfaces or structs** rather than broad blacklists.
- Use **FieldNameMap to customize helpers on a per-tag basis**, enabling integration with custom types like JSON.
- Set **OutPath** to centralize generated code and streamline version control and import paths.
- Use **FileLevel** to create fine-grained config for specific files without affecting the whole package.

---

## Troubleshooting Configuration

<AccordionGroup title="Common Configuration Issues">
<Accordion title="Config Not Applied To Generated Code">
Check that your `genconfig.Config` variable is declared at the package level and is being scanned by the generator. It must be in a source file included in the `-i` input path.
</Accordion>
<Accordion title="Generated Files Go to Unexpected Location">
Verify your `OutPath` is set correctly relative to the generator's working directory. Use absolute paths or relative paths carefully.
</Accordion>
<Accordion title="FieldTypeMap or FieldNameMap Not Working">
Ensure the map keys exactly match the Go type or tag names you're targeting. Remember that `FieldNameMap` takes precedence over `FieldTypeMap`.
</Accordion>
<Accordion title="Interfaces or Structs Not Included or Excluded Properly">
Double-check shell pattern syntax, case sensitivity, and whether you are mixing `Include*` and `Exclude*` which affects priority.
</Accordion>
</AccordionGroup>

---

## Next Steps

Once configured:

- Run the CLI generator with your configured packages and watch generated code appear in specified locations.
- Explore the **Advanced Patterns & Scenarios** documentation for detailed workflows on customizing generated helpers or using templated queries.
- Combine generation configuration with your project build or CI scripts to automate type-safe code maintenance.

---

## References & Resources

- [Quickstart: From Models to Type-Safe APIs](/overview/features-and-workflows/quickstart-user-journey)
- [Feature Overview](/overview/features-and-workflows/feature-overview)
- [Core Concepts & Terminology](/overview/architecture-and-core-concepts/core-concepts-terminology)
- [Troubleshooting Common Issues](/getting-started/configuration-and-troubleshooting/troubleshooting)
- Source code repository: [https://github.com/go-gorm/cli](https://github.com/go-gorm/cli)

---