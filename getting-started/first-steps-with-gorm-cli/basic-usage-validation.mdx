---
title: "Using Your First Generated APIs"
description: "Walk through validation: importing the generated code, calling basic query and update methods, and ensuring database connectivity. Includes troubleshooting for missing models, SQL errors, or integration hiccups."
---

# Using Your First Generated APIs

Welcome to the next step in your GORM CLI journey! Now that you have generated your type-safe query APIs and field helpers, this guide will walk you through using these generated components to execute your first queries and updates. You will learn how to import generated code, run basic operations against your database, validate your setup, and troubleshoot common issues.

---

## 1. Importing Your Generated Code

After running the code generator, your type-safe APIs and field helpers are available as Go packages in the output directory you specified (commonly `./generated` or your configured `OutPath`).

### Action Steps:
- Add the generated package import into your Go source file where you want to use the APIs.

```go
import (
  "context"
  "gorm.io/gorm"
  "your-module/generated" // replace with actual generated package path
)
```

<Tip>
Ensure your Go module path matches your project setup so imports resolve correctly.
</Tip>

---

## 2. Running a Basic Query

The generated query interfaces expose type-safe methods based on your SQL templates.

### Example: Querying a User by ID

```go
func FetchUserByID(db *gorm.DB, ctx context.Context, id int) (models.User, error) {
  // Use the generated Query interface with your model type
  userAPI := generated.Query[models.User](db)

  // Call the generated GetByID method
  user, err := userAPI.GetByID(ctx, id)
  if err != nil {
    return models.User{}, err
  }
  return user, nil
}
```

### What Happens Here:
- `generated.Query[models.User]` creates a query instance for the User model.
- `GetByID` runs the SQL template annotated in your interface and returns data mapped to your struct.

<Check>
- Verify the generated code folder is updated and included in your project.
- Confirm database connection is properly injected.
- Confirm `models.User` exists and matches your schema.
</Check>

---

## 3. Performing an Update

You can also perform database updates using your generated interfaces.

### Example: Updating User Information

```go
func UpdateUserName(db *gorm.DB, ctx context.Context, id int, newName string) error {
  userAPI := generated.Query[models.User](db)

  // Construct the updated user struct
  updatedUser := models.User{Name: newName}

  // Call the generated Update method
  return userAPI.UpdateInfo(ctx, updatedUser, id)
}
```

### What to Expect:
- The SQL template in `UpdateInfo` will generate and execute the appropriate UPDATE statement.
- The method returns an error if the operation fails.

---

## 4. Validating Database Connectivity and Data Flow

After running basic queries or updates:

### Steps:
1. Confirm no compile-time errors due to missing packages or types.
2. Run your Go application and check for runtime errors.
3. Verify that queries return expected data.
4. Check database logs or use a client to confirm SQL statements executed.

<Tip>
For more complex scenarios, use additional generated methods or combine with GORM filters using the provided field helpers.
</Tip>

---

## 5. Common Troubleshooting

### Problem: Generated Model or Method Not Found
- Cause: The generator might have skipped your model or interface due to config filters or file placement.
- Solution:
  - Ensure your model and interface files reside in the input directory.
  - Check `genconfig.Config` settings for `IncludeInterfaces`/`ExcludeInterfaces` or `IncludeStructs`/`ExcludeStructs` filters.
  - Re-run the generator and confirm generation logs.

### Problem: SQL Syntax Errors or Unexpected Query Behavior
- Cause: SQL template syntax errors or incorrect parameter binding.
- Solution:
  - Review SQL templates in your interfaces for syntax correctness.
  - Use the query interface with sample values and log generated SQL.
  - Consult the [Template DSL & Query Specification](https://your-docs-link/concepts/architecture-dataflow/template-dsl) for syntax rules.

### Problem: Unable to Connect to Database
- Cause: Incorrect GORM DB setup or missing environment variables.
- Solution:
  - Verify your database connection string and credentials.
  - Test plain GORM connection without generated code.
  - Confirm network connectivity and database server status.

---

## 6. Next Steps

### Explore More Generated APIs
- Experiment with different generated query methods.
- Use generated field helpers to build complex filters.

### Integrate Associations
- Try association operations like `Create`, `Unlink`, and `Delete` on related models.

### Learn Advanced Usage
- Consult the guides on [Working with Associations](https://your-docs-link/guides/advanced-patterns/working-with-associations) and [Customizing Code Generation](https://your-docs-link/guides/advanced-patterns/customizing-generation-output).

### Get Help
- Visit the troubleshooting page [Troubleshooting Your First Run](https://your-docs-link/getting-started/first-steps-with-gorm-cli/troubleshooting-first-run).
- Join community forums or raise issues in the official repository.

---

## Summary
Using your first generated APIs involves importing the generated package, running example queries and updates, validating that database connections and data flows are functioning, and troubleshooting common issues related to missing models or SQL errors. This process quickly brings your generated type-safe query interfaces into productive use.

<AccordionGroup title="Example Code Snippets">
<Accordion title="Basic Query">
```go
userAPI := generated.Query[models.User](db)
user, err := userAPI.GetByID(ctx, 123)
```
</Accordion>
<Accordion title="Basic Update">
```go
err := generated.Query[models.User](db).UpdateInfo(ctx, models.User{Name: "Alice"}, 1)
```
</Accordion>
</AccordionGroup>

---

For comprehensive details, please consult the related documentation sections:

- [Project Setup & Structure](https://your-docs-link/getting-started/first-steps-with-gorm-cli/project-setup)
- [Generating Type-Safe APIs](https://your-docs-link/getting-started/first-steps-with-gorm-cli/generating-code)
- [Troubleshooting Your First Run](https://your-docs-link/getting-started/first-steps-with-gorm-cli/troubleshooting-first-run)
- [Template DSL & Query Specification](https://your-docs-link/concepts/architecture-dataflow/template-dsl)
- [Working with Associations](https://your-docs-link/guides/advanced-patterns/working-with-associations)

