---
title: "Basic Configuration"
description: "Learn how to configure GORM CLI with default and optional settings. Get familiar with simple configuration files and environment conventions for flexible code generation."
---

# Basic Configuration

Discover how to configure GORM CLI for your projects using straightforward configuration files and environment-based conventions. This guide leads you through setting default paths, customizing generation behavior with `genconfig.Config`, and applying filters to control which interfaces and structs are processed during code generation.

---

## 1. Understanding GORM CLI Configuration

GORM CLI automatically generates type-safe query APIs and model-driven field helpers based on your Go code. While it works out of the box without explicit configuration, customizing its behavior helps tailor output to your project's structure and coding patterns.

At the heart of this customization lies the `genconfig.Config` type, a flexible set of options you declare in your Go packages to control code generation.

<Note>
Configuration applies per package or directory and is automatically detected by the generator during execution. There is no need to pass configuration flags manually on the command line.
</Note>

---

## 2. Creating a Basic Configuration File

Start with a simple Go source file (e.g., `config.go`) in your package where you want to control the generation:

```go
package yourpackage

import (
  "gorm.io/cli/gorm/genconfig"
)

var _ = genconfig.Config{
  OutPath: "./generated",   // Output directory for generated files (overrides CLI -o)
}
```

- `OutPath` sets where the generated code will be placed for that package.
- The generator respects these per-package overrides without any additional CLI flags.

---

## 3. Key Configuration Options

You can customize many aspects using `genconfig.Config`:

| Option              | Description                                                                                          | Example                                    |
|---------------------|--------------------------------------------------------------------------------------------------|--------------------------------------------|
| `OutPath`           | Overrides the output directory for generated code within the package.                              | `OutPath: "./generated"`                  |
| `FieldTypeMap`      | Maps Go types to field helper types, enabling custom field behavior for special types.            | `FieldTypeMap: map[any]any{ sql.NullTime{}: field.Time{} }` |
| `FieldNameMap`      | Maps struct field tags (e.g. `gen:"json"`) to custom field helper types.                        | `FieldNameMap: map[string]any{"json": JSON{}}`             |
| `FileLevel`         | When set to `true`, config applies only to the current file (default `false` applies to whole pkg).| `FileLevel: true`                           |
| `IncludeInterfaces` | Whitelist patterns or type instances for interfaces to generate (excludes those not matching).    | `IncludeInterfaces: []any{"Query*"}`     |
| `ExcludeInterfaces` | Blacklist patterns or type instances for interfaces to skip during generation.                    | `ExcludeInterfaces: []any{"*Deprecated*"}`|
| `IncludeStructs`    | Whitelist patterns or type instances for structs to generate helpers for.                        | `IncludeStructs: []any{"User"}`           |
| `ExcludeStructs`    | Blacklist patterns or type instances for structs to skip.                                        | `ExcludeStructs: []any{"*DTO"}`           |

<Info>
Filt er options operate with shell-style patterns (wildcards `*`, e.g., `Query*`, `*Repo`) or direct type literals (e.g., `models.User{}`).
</Info>

---

## 4. Example: Filtering Generated Interfaces and Structs

Suppose you want to generate only interfaces starting with "Query" and exclude deprecated interfaces, plus generate for only the `User` struct excluding data transfer objects:

```go
package yourpackage

import (
  "gorm.io/cli/gorm/genconfig"
  "yourproject/models"
)

var _ = genconfig.Config{
  IncludeInterfaces: []any{"Query*", models.Query(nil)},
  ExcludeInterfaces: []any{"*Deprecated*"},
  IncludeStructs:    []any{"User", models.User{}},
  ExcludeStructs:    []any{"*DTO"},
}
```

This setup:
- Generates code only for interfaces with names matching `Query*` or the explicit interface type `models.Query`.
- Skips any interfaces containing "Deprecated".
- Generates for the `User` struct only.
- Skips any structs with names ending in "DTO".

---

## 5. Custom Field Mapping

Map special Go types or struct tags to custom field helpers to extend generation capabilities.

### Example: Mapping `sql.NullTime` to `field.Time`

```go
package yourpackage

import (
  "database/sql"
  "gorm.io/cli/gorm/field"
  "gorm.io/cli/gorm/genconfig"
)

var _ = genconfig.Config{
  FieldTypeMap: map[any]any{
    sql.NullTime{}: field.Time{},
  },
}
```

This directs the generator to use `field.Time` for fields of type `sql.NullTime`, enhancing SQL predicate generation and updates for time fields.

### Example: Mapping Fields by Struct Tag

If you declare a custom struct tag for JSON fields:

```go
package yourpackage

import (
  "gorm.io/cli/gorm/genconfig"
)

var _ = genconfig.Config{
  FieldNameMap: map[string]any{
    "json": JSON{}, // JSON is a custom field helper
  },
}
```

You enable fields tagged with `gen:"json"` in your models to leverage tailored JSON handling helpers in generated code.

---

## 6. Overriding Output Directory per Package

By default, the CLI `-o` flag controls the output path for all generated code.

Declaring `OutPath` in a package’s `genconfig.Config` overrides it for that package only, allowing multi-package projects to customize outputs flexibly.

---

## 7. File-Level Configuration

Set `FileLevel: true` if you want configuration to apply only to the Golang source file where it is declared rather than the whole package:

```go
var _ = genconfig.Config{
  FileLevel: true,
  OutPath:   "./file_specific_generated",
}
```

This helps when different files in the same package need distinct generation rules.

---

## 8. Practical Tips and Best Practices

- Keep configuration files named intuitively, e.g., `genconfig.go`, so they’re easily discoverable.
- Use explicit type literals for clarity when filtering interfaces and structs.
- Only exclude or include as needed; large blanket includes can slow generation.
- Use `FieldTypeMap` and `FieldNameMap` for smooth handling of domain-specific or complex field types.
- Avoid conflicting include/exclude patterns to prevent confusion.

---

## 9. Troubleshooting Configuration Issues

<AccordionGroup title="Common Configuration Pitfalls">
<Accordion title="Generated code not appearing in desired directory">
Verify that your `OutPath` is correctly set in the per-package config or passed via CLI. Remember that package-level `OutPath` overrides CLI’s `-o` for that package.
</Accordion>
<Accordion title="Some interfaces or structs are not generated">
Check if your include/exclude patterns overlap or exclude unexpectedly. Patterns are matched case-sensitively and use shell-style wildcards.
</Accordion>
<Accordion title="Custom field mapping not applied">
Ensure your `FieldTypeMap` keys are instantiated types (e.g., `sql.NullTime{}`) and map values are valid field helpers. Check import paths and declarations.
</Accordion>
</AccordionGroup>

---

## 10. Next Steps

After establishing your configuration:

- Run `gorm gen -i ./yourpackage` and verify generated code locations.
- Explore customizing your query interfaces with SQL templates.
- Combine configuration with association helpers for richer generated APIs.

For deep dives:
- See [Configuration & Customization Essentials](/overview/features-and-integration/config-customization)
- Visit [Your First Code Generation](/getting-started/first-steps/your-first-generation)
- Review [Model-Driven Field Helpers](/guides/essential-workflows/model-driven-field-helpers) for advanced field handling examples

---

## References

- [genconfig.Config Go type source](https://github.com/go-gorm/cli/blob/main/genconfig/config.go)
- [GORM CLI README - Config Section](https://github.com/go-gorm/cli/blob/main/README.md#generation-config-optional)
- Command-Line Usage:

```bash
gorm gen -i ./yourpackage -o ./generated
```

---

Harnessing the power of `genconfig.Config` gives you control and precision over how GORM CLI generates helpers and query code, creating a foundation for scalable, maintainable Go + GORM projects.

---

## Appendix: Minimal Example Configuration File

```go
package examples

import (
  "database/sql"
  "gorm.io/cli/gorm/field"
  "gorm.io/cli/gorm/genconfig"
)

var _ = genconfig.Config{
  OutPath: "examples/output",
  FieldTypeMap: map[any]any{
    sql.NullTime{}: field.Time{},
  },
  IncludeInterfaces: []any{"Query*"},
  ExcludeInterfaces: []any{"*Deprecated*"},
}
```

This snippet puts you on the path to a robust, type-safe GORM CLI experience tailored to your project.
