---
title: "Using the Generated APIs"
description: "Demonstrates immediate use of the generated query and field helper APIs within a Go project, including type-safe querying and field/helper usage. Shows how to integrate with `gorm.io/gorm` for real database operations."
---

# Using the Generated APIs

This guide demonstrates how to put your generated query interfaces and field helper APIs into immediate use within a Go project that integrates with `gorm.io/gorm`. You will learn to perform type-safe querying and employ field helper predicates and setters to run your first real database operations.

---

## 1. Preparing Your Go Project for Generated Code

Before using the generated APIs, ensure your Go project is setup with the following:

- **GORM v1.23+** installed and imported in your project (e.g., `gorm.io/gorm`).
- The generated package output directory added to your module imports.
- A properly initialized `*gorm.DB` instance, connected to your database.

Example:

```go
import (
    "gorm.io/gorm"
    "your_project/generated" // replace with your generated module path
)

func main() {
    db, err := gorm.Open(/* your dialect and config */)
    if err != nil {
        panic(err)
    }
    // Use db
}
```

<Tip>
Ensure your generated package is correctly referenced by your Go module, relative to where you run your generation command.
</Tip>

---

## 2. Accessing Your Query Interfaces

Generated query interfaces provide type-safe, compiled Go methods to run your defined SQL templates directly.

### Usage Pattern

Use the generated constructor function that matches your interface name. For example, for an interface named `Query[T]`, call:

```go
q := generated.Query[models.User](db)
```

This returns a fully set-up implementation for your model type.

### Running a Query

Call the interface method with parameters and `context.Context`:

```go
user, err := q.GetByID(ctx, 123)
if err != nil {
    // handle error
}
fmt.Println(user)
```

This runs the SQL defined in the interface’s comment template with full type safety.

<Tip>
If your method signature doesn’t include `context.Context`, the generator automatically includes it in the implementation.
</Tip>

---

## 3. Using Field Helpers in Queries

Field helpers are generated for your model's fields, enabling expressive and type-safe predicate building.

### Select and Where Queries

For example, to find users whose age is greater than 18:

```go
import "context"

users := []models.User{}
err := gorm.G[models.User](db).
    Where(generated.User.Age.Gt(18)).
    Find(ctx, &users)
if err != nil {
    // handle error
}
```

Here, `generated.User.Age` is a field helper with the method `.Gt(18)` that returns a GORM clause expression compatible with `.Where`.

<Tip>
Combine predicates fluently using field helper methods such as `Eq()`, `Ne()`, `In()`, `Between()`, `Like()`, etc., for complex filters.
</Tip>

---

## 4. Updating Records Using Field Helpers

Field helpers also provide setter methods for constructing update payloads.

### Basic Update Example

```go
err := gorm.G[models.User](db).
    Where(generated.User.ID.Eq(123)).
    Set(
        generated.User.Name.Set("newname"),
        generated.User.Age.Set(30),
    ).
    Update(ctx)
if err != nil {
    // handle update error
}
```

### Creating Records with Associations

For models with associations, use association helpers like `.Create()` or `.CreateInBatch()`:

```go
err := gorm.G[models.User](db).
    Set(
        generated.User.Name.Set("alice"),
        generated.User.Pets.Create(generated.Pet.Name.Set("fido")),
    ).
    Create(ctx)
```

---

## 5. Running Your First Full Operation

### Step-by-step walk-through:

<Steps>
<Step title="Initialize DB">
Set up your `*gorm.DB` connection as usual.
</Step>
<Step title="Create Query Interface Instance">
Instantiate your generated query, e.g.,

```go
q := generated.Query[models.User](db)
```
</Step>
<Step title="Run a Sample Query">
Use a method like:

```go
user, err := q.GetByID(ctx, 1)
```
</Step>
<Step title="Use Field Helpers for Filtering">
Use field helpers to build predicate:

```go
users := []models.User{}
err := gorm.G[models.User](db).
    Where(generated.User.Age.Gt(18)).
    Find(ctx, &users)
```
</Step>
<Step title="Perform an Update with Setters">
Update a user's name:

```go
err := gorm.G[models.User](db).
    Where(generated.User.ID.Eq(user.ID)).
    Set(generated.User.Name.Set("updatedName")).
    Update(ctx)
```
</Step>
</Steps>

<List>
<li>Ensure <code>ctx</code> is properly passed to all query executions for cancellation and timeout control.</li>
<li>Import your generated package alias for field helpers and query APIs.</li>
</List>

---

## 6. Tips & Best Practices

- **Always use context:** Pass `context.Context` to query and update calls for better control.
- **Prefer generated APIs:** Use the query interfaces and field helpers whenever possible for compile-time safety.
- **Consistent imports:** Keep your generated package path consistent and organized.
- **Handle errors:** Check and handle errors returned from queries or updates.
- **Use association helpers:** For complex models, leverage generated association helpers for related entity operations.

---

## 7. Common Pitfalls & Troubleshooting

<AccordionGroup title="Troubleshooting Common Usage Issues">
<Accordion title="Cannot Find Generated Package or Symbols">
- Verify your generation output directory (`-o` flag) matches your import path.
- Run `go mod tidy` to sync dependencies after generation.
- Ensure your Go module is aware of the generated code.
</Accordion>
<Accordion title="Query Methods Return Unexpected Errors or Empty Results">
- Double-check your SQL template in the interface comments.
- Validate that method parameters match placeholders.
- Confirm your DB connection is active and points to the correct database/schema.
- Use logging or GORM debug mode to inspect generated SQL.
</Accordion>
<Accordion title="Field Helpers Not Recognized or Methods Missing">
- Make sure struct fields have correct visibility (`exported`, uppercase first letter).
- Confirm generation includes the models and interfaces appropriately.
- Check for incompatible Go versions (requires Go 1.18+ for generics).
</Accordion>
</AccordionGroup>

---

## 8. Next Steps & Further Reading

- Explore [Basic Configuration Setup](https://your-docs-host/getting-started/first-steps/basic-configuration) to customize field mappings and interface inclusion.
- Follow [Generating Your First Code](https://your-docs-host/getting-started/first-steps/generating-code) for full generation workflows.
- Dive into [Managing Associations with Helpers](https://your-docs-host/guides/core-workflows/association-operations) for advanced model relationships.
- Review [Template DSL for Dynamic Queries](https://your-docs-host/guides/advanced-usage-patterns/template-dsl) to write sophisticated SQL templates.
- Visit the [Troubleshooting Installation & Setup](https://your-docs-host/getting-started/troubleshooting-and-faq/troubleshooting) page for common issues and fixes.

---