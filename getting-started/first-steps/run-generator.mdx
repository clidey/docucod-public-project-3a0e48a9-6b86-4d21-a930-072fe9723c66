---
title: "Generating Code for the First Time"
description: "How to invoke the `gorm gen` command-line tool, including CLI flags, paths, and what to expect on successful generation. Demonstrates navigating to output files and understanding their structure."
---

# Generating Code for the First Time

This guide walks you through invoking the `gorm gen` command-line tool to generate type-safe query APIs and model-driven field helpers from your Go source code. You will learn how to use CLI flags, specify input and output paths, understand the expected output, and navigate your generated files.

---

## 1. Preparing to Run the Generator

Before running the `gorm gen` command, ensure you have:

- Written your Go interfaces with embedded SQL templates.
- Defined your model structs in Go within the same or referenced directories.
- Installed the `gorm` CLI tool (see Installation Instructions).

If you want to customize generation, optionally declare a `genconfig.Config` in the package containing your interfaces/models (see Configuration Intro).

---

## 2. Running the `gorm gen` Command

The basic usage of the command is:

```bash
gorm gen -i <input_path> -o <output_path>
```

### 2.1 Required Flags

- `-i`, `--input`  
  Path to the directory or Go file containing interfaces with raw SQL annotations. This is **required**.

### 2.2 Optional Flags

- `-o`, `--output`  
  Directory where generated code files will be placed. Defaults to `./g` if omitted.

---

### 2.3 Example Command

Generate code from the `./examples` folder, outputting into `./generated`:

```bash
gorm gen -i ./examples -o ./generated
```

This command will parse your interfaces and models under `./examples`, apply any configuration overrides found there, and create generated `.go` files under `./generated`, preserving relative directory structure.

---

## 3. What Happens When You Run `gorm gen`?

Behind the scenes, the `gorm gen` command:

- Parses Go source files to locate interfaces with SQL templates and model structs.
- Applies any configuration (e.g., filtering, custom output paths).
- Generates type-safe API code for your queries.
- Generates field helper code for your models (including fields and associations).
- Writes generated `.go` files preserving your package structure under the specified output path.

### Output File Structure

Generated files mirror the source folder structure. For instance, interfaces and models in subdirectories will have corresponding generated files in matching subdirectories under the output folder.

### Naming

- Generated interfaces are transformed into concrete implementations and interfaces for usage.
- Model field helpers are defined as Go structs with typed fields for predicates and operations.

---

## 4. Navigating Generated Files

Once generation completes successfully, you will see output similar to:

```plaintext
Generating file ./generated/example/iface.go from ./examples/query.go...
Generating file ./generated/example/models.go from ./examples/models/user.go...
```

To inspect generated code:

1. Open the output directory you specified (`./generated` in the example).
2. Browse into subfolders if applicable.
3. Review generated files like `iface.go` for query interface implementations.
4. Open `models.go` or equivalent files to view generated model field helpers.

---

## 5. Using the Generated Code

Import your generated packages in your project. You can immediately start using the type-safe query APIs and field helpers like this:

```go
u, err := generated.Query[User](db).GetByID(ctx, 123)
users, err := gorm.G[User](db).Where(generated.User.Age.Gt(18)).Find(ctx)
```

Refer to [Testing and Using Generated Code](/getting-started/first-steps/validate-usage) for full usage patterns.

---

## 6. Troubleshooting Common Issues

<AccordionGroup title="Troubleshooting Generation">
<Accordion title="Error: input path not specified">
Make sure you provide the `-i` flag with the correct path. This flag is mandatory.
</Accordion>
<Accordion title="No code generated or empty output directory">
Verify your interfaces contain methods with SQL comments. Also confirm that include/exclude filters in `genconfig.Config` are not excluding everything.
</Accordion>
<Accordion title="Permission denied errors writing output files">
Check you have write permissions for the output directory. Create or select an output folder you own.
</Accordion>
<Accordion title="Parsing errors on Go files">
Ensure your input files are valid Go source files and compilable. Fix syntactic issues before generation.
</Accordion>
</AccordionGroup>

---

## 7. Best Practices and Tips

- Use relative paths for `-i` and `-o` flags to keep your project structure clean.
- Keep your interfaces and models organized by package for easier configuration and modular generation.
- Leverage `genconfig.Config` to control what gets generated and where.
- Validate generated code immediately after generation to catch errors early.

---

## 8. Next Steps

- Write or refine your GORM models and query interfaces: [Writing Models and Query Interfaces](/getting-started/first-steps/write-models-interfaces)
- Test and use generated code: [Testing and Using Generated Code](/getting-started/first-steps/validate-usage)
- Learn about configuration overrides to tailor generation: [Configuring Your Project](/getting-started/setup-basics/configuration-intro)
- Explore troubleshooting for common problems: [Troubleshooting & Common Issues](/getting-started/first-steps/troubleshooting)

---

## Reference: `gorm gen` CLI Usage

```bash
gorm gen --help
```

```plaintext
Usage:
  gorm gen [flags]

Flags:
  -h, --help            help for gen
  -i, --input string     Path to Go interface file with raw SQL annotations (required)
  -o, --output string    Directory to place generated code (default "./g")
```

---