---
title: "Validate Generated APIs"
description: "Learn how to check that your generated code is correct, imported properly, and integrates seamlessly with your project. Includes examples of importing and invoking generated query and helper methods."
---

# Validate Generated APIs

Ensure that your first run of the GORM CLI code generator produced correct, usable, and seamlessly integrated code in your Go project. This guide walks you through verifying imports, examining generated query interfaces and field helpers, and writing sample calls to confirm everything works as expected.

---

## 1. Purpose of This Step

After you have defined your query interfaces and models, and run the `gorm gen` code generator, your next goal is to validate that:

- Generated code files exist in the right location.
- Generated query interfaces and methods are correctly imported and usable.
- Field helper variables are accessible and properly typed.
- Queries run successfully with expected parameters and return types.

This process ensures your project is ready to integrate GORM CLI's generated APIs safely and productively.

---

## 2. Check Generated Files and Imports

1. **Locate Generated Files**
   - Check the output directory you specified with `-o` (default is `./g` if omitted).
   - Verify that files corresponding to your interface and model packages exist (e.g., `query.go` for queries).

2. **Verify Package and Import Statements**
   - Open generated files and confirm the package matches your source package.
   - Confirm the generated files import necessary packages such as `gorm.io/gorm` and `gorm.io/cli/gorm/field`.

3. **Example Import in your Application Code:**

```go
import (
    "context"
    "gorm.io/gorm"
    "your_module_path/generated" // replace with your actual module path
)
```

> Replace `your_module_path/generated` with the appropriate import path reflecting your module and output directory.

---

## 3. Using Generated Query Interfaces

The generator creates type-safe query interfaces named after your original interface, which are instantiated via factory functions.

### Example: Import and Instantiate Generated Query API

Given an interface named `Query`, you will see a generated function:

```go
q := generated.Query[models.User](db)
```

Where:
- `models.User` is your struct model type.
- `db` is an instance of `*gorm.DB`.

### Invoke Methods with Proper Context

The generated methods accept a `context.Context` as the first parameter, even if your original interface did not explicitly declare it.

```go
ctx := context.Background()
user, err := q.GetByID(ctx, 123)
if err != nil {
    // handle error
}
fmt.Printf("User: %+v\n", user)
```

### Example Calling FilterByNameAndAge

```go
users, err := q.FilterByNameAndAge(ctx, "jinzhu", 25)
if err != nil {
    // handle error
}
fmt.Printf("Users: %+v\n", users)
```

This shows type-safe, generated query APIs working directly with your models.

---

## 4. Accessing Generated Field Helper Variables

Each model struct is accompanied by a variable named after it that exposes typed field and association helpers.

### Example Usage of Field Helpers

```go
import "generated" // your generated package

// Query with Helpers
users := []models.User{}
err := db.Where(generated.User.Name.Eq("jinzhu")).Find(&users).Error

// Update with Helpers
err = db.Model(&models.User{}).Where(generated.User.ID.Eq(1)).UpdateColumns(
    map[string]interface{}{generated.User.IsAdult.ColumnName(): true},
).Error
```

Field helpers provide methods like `.Eq()`, `.Like()`, `.Set()`, and more, enabling fluent and safe query construction.

---

## 5. Write a Simple Validation Function

Create a small test or main function to exercise generated APIs.

```go
package main

import (
    "context"
    "fmt"
    "log"

    "gorm.io/driver/sqlite"
    "gorm.io/gorm"
    "your_module_path/generated" // Change accordingly
    "your_module_path/models"    // Change accordingly
)

func main() {
    db, err := gorm.Open(sqlite.Open("test.db"), &gorm.Config{})
    if err != nil {
        log.Fatal("failed to connect database", err)
    }

    q := generated.Query[models.User](db)
    ctx := context.Background()

    // Test GetByID
    user, err := q.GetByID(ctx, 1)
    if err != nil {
        log.Fatalf("GetByID failed: %v", err)
    }
    fmt.Printf("User by ID: %+v\n", user)

    // Test FilterByNameAndAge
    users, err := q.FilterByNameAndAge(ctx, "jinzhu", 25)
    if err != nil {
        log.Fatalf("FilterByNameAndAge failed: %v", err)
    }
    fmt.Printf("Users filtered: %+v\n", users)
}
```

> Running this confirms that generated APIs load correctly and execute.

---

## 6. Troubleshooting Tips

<AccordionGroup title="Common Issues While Validating Generated APIs">
<Accordion title="Generated Files Not Found">
- Verify correct output directory with `-o` flag.
- Run `gorm gen` with `-i` matching your interface source path.
- Check for generation warnings or errors in terminal output.
</Accordion>
<Accordion title="Import Errors in Application Code">
- Confirm Go module paths are correct.
- Ensure you run `go mod tidy` after adding new code.
- Use absolute import paths reflecting your specific project layout.
</Accordion>
<Accordion title="Build or Compilation Failures">
- Confirm generated code compiles with your Go version (Go 1.18+ required for generics).
- Check for naming collisions or incorrect method signatures.
- Verify context parameter presence and ordering.
</Accordion>
<Accordion title="Runtime Errors or Unexpected Behavior">
- Inspect error messages carefully for database connectivity or SQL generation issues.
- Check your SQL templates in source interface comments for correctness.
- Validate your model struct tags especially for column name mappings.
</Accordion>
</AccordionGroup>

---

## 7. Next Steps

After validating generated APIs successfully:

- Integrate generated APIs into your application service layer.
- Explore usage of association helpers for managing related models.
- Customize generation with `genconfig.Config` for your needs.
- Attend next documentation pages for troubleshooting or advanced customization.

---

## Additional Resources

- [Define Models & Query Interfaces](../define-models-interfaces "Define your first models and interfaces with SQL templates")
- [Run the Code Generator](../run-code-generator "Instructions for running the GORM CLI generator tool")
- [Troubleshooting Common Issues](../troubleshooting-common-issues "Help with frequent problems during generation and usage")
- [Quickstart Workflow Overview](../../overview/quick-features/quickstart "Step through the recommended quickstart workflow")

---

Check back to the [Installation Instructions](/getting-started/setup-installation/installation-instructions) if you haven't installed the CLI properly.

For understanding generated code internals, consult [How GORM CLI Works (High-Level Architecture)](/overview/concepts-architecture/how-it-works-highlevel).

---

<Tip>
Validating generated code early reduces integration errors and improves confidence in your data access layer.
</Tip>