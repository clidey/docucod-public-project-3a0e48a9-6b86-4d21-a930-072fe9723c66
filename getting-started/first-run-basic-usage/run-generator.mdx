---
title: "Running the Generator"
description: "Use the GORM CLI command-line tool to generate code based on your models and interfaces. Explains the core `gorm gen` command, input and output paths, and how to inspect the generated output."
---

# Running the Generator

Leverage the powerful GORM CLI `gen` command-line tool to generate type-safe, interface-driven query code from your Go models and SQL-annotated interfaces. This guide focuses on the core `gorm gen` command, explaining how to specify input and output, run the generator, and inspect the generated code to smoothly advance your development.

---

## 1. Understanding the `gorm gen` Command

The generator automates the creation of query APIs from Go interfaces that include SQL templates in their comments. It reads your Go source files, extracts interfaces and models, and outputs fully typed Go code to the specified directory.

At its core, the CLI command is:

```bash
gorm gen -i <input-path> -o <output-path>
```

- `-i, --input` (required): Path to the Go source file or directory containing your interfaces and models.
- `-o, --output` (optional): Directory where generated files will be saved; defaults to `./g` if omitted.

This command generates code based on your SQL templates and Go models, saving you from manual boilerplate writing and ensuring compile-time safety.

---

## 2. Preparing to Run the Generator

Before running the generator, ensure:

- Your Go interfaces include SQL queries as comment-annotations above methods.
- Models and interfaces reside within accessible directories.
- A `genconfig.Config` (optional) can be declared for advanced configuration.

Example interface snippet:

```go
// Query interface with SQL templating
 type Query[T any] interface {
   // SELECT * FROM @@table WHERE id=@id
   GetByID(id int) (T, error)
 }
```

---

## 3. Running the Generator Step-by-Step

<Steps>
<Step title="Step 1: Identify Your Input Path">
Specify the path to the Go source file or directory containing your interfaces.

Example:

```bash
gorm gen -i ./examples
```

This tells the generator to process all Go files under `./examples`.
</Step>

<Step title="Step 2: Specify Output Directory (Optional)">
Define where generated code should be saved using the `-o` flag.

Example:

```bash
gorm gen -i ./examples -o ./generated
```

If omitted, output defaults to `./g`.
</Step>

<Step title="Step 3: Run the Command">
Execute the command in your terminal:

```bash
gorm gen -i ./examples -o ./generated
```

The tool will parse the input, apply any configs, and generate code in the output directory.

Youâ€™ll see console output indicating progress, e.g.: 

```
Generating file ./generated/query.go from ./examples/query.go...
```
</Step>

<Step title="Step 4: Verify Output">
Review the generated files in the output directory.

Expect:

- Generated interface implementations with typed method bodies.
- Model-driven field helpers for filters and associations.

Example output snippet:

```go
// Code generated by 'gorm.io/cli/gorm'. DO NOT EDIT.
package generated

func Query[T any](db *gorm.DB, opts ...clause.Expression) _QueryInterface[T] {
  return _QueryImpl[T]{Interface: gorm.G[T](db, opts...)}
}

// ...
```

</Step>
</Steps>

---

## 4. Command Flags and Options

| Flag           | Short | Description                                      | Required | Default  |
|----------------|-------|------------------------------------------------|----------|----------|
| `--input`      | `-i`  | Path to Go file or directory with interfaces    | Yes      | None     |
| `--output`     | `-o`  | Directory to save the generated code            | No       | `./g`    |

---

## 5. Inspecting and Using Generated Code

After generation:

- Open the output directory to view generated `.go` files.
- Generated files include:
  - Typed implementations of your SQL-annotated interfaces.
  - Field helper structs for your models, supporting fluent querying.

For example, with an interface method:

```go
// SELECT * FROM @@table WHERE id=@id
GetByID(id int) (T, error)
```

The generator creates a method to execute this query safely, returning your model type `T` and an error.

---

## 6. Example CLI Session

```bash
$ gorm gen -i ./examples/models -o ./generated
Generating file ./generated/query.go from ./examples/models/query.go...
Generating file ./generated/user.go from ./examples/models/user.go...
Generation complete.
```

You can now import `./generated` in your application and call typed methods:

```go
ctx := context.Background()
udb := generated.Query[User](db)
user, err := udb.GetByID(ctx, 123)
if err != nil {
  log.Fatal(err)
}
fmt.Println(user.Name)
```

---

## 7. Troubleshooting Tips

<AccordionGroup title="Common Issues When Running the Generator">
<Accordion title="Error: input path not specified">
Ensure you provide the `-i` flag with a valid file or directory path.

Example:

```bash
gorm gen -i ./myinterfaces
```
</Accordion>

<Accordion title="No output files generated">
- Confirm your interfaces have methods with SQL annotations.
- Check that your input path points to files containing interfaces.
- Verify there are no conflicting `genconfig.Config` filters excluding all interfaces.
</Accordion>

<Accordion title="Permission denied writing output files">
- Check write permissions for the output directory.
- Use a directory where your user has write access, or run with appropriate permissions.
</Accordion>
</AccordionGroup>

---

## 8. Best Practices and Recommendations

- Keep your input interfaces and models well organized in dedicated directories.
- Use `genconfig.Config` to customize output paths and include/exclude filters.
- Run `gorm gen` regularly as part of your build or CI workflow to keep generated code up-to-date.
- Review generated code occasionally to understand its structure and leverage field helpers fully.

---

## 9. Next Steps

After successfully running the generator:

- Explore [Using Generated Code in Your Project](./using-generated-code) to integrate generated APIs.
- Learn to [Prepare Your Models and Interfaces](./prepare-code) effectively to maximize generation quality.
- Review [Configuring GORM CLI](./configuring-generator) for advanced customization.

---

## References

- Source repository: [gorm.io/cli on GitHub](https://github.com/go-gorm/cli)
- Detailed command definition: see `internal/gen/gen.go` and `internal/gen/generator.go`
- Example interfaces and configs: check `examples/query.go` and `examples/filters`

---

By following this guide, you take full advantage of the GORM CLI `gen` command to generate robust, type-safe code that accelerates your Go backend development with confidence and precision.
