---
title: "Initial Project Setup"
description: "Set up your Go project for use with GORM CLI. This page introduces project structuring, laying out where to define your models and interfaces to make the most out of code generation."
---

# Initial Project Setup

Set up your Go project to use GORM CLI effectively by structuring your project files, defining your models, and laying out raw SQL interfaces. This foundational step is crucial for leveraging GORM CLI’s code generation capabilities to produce type-safe query APIs and model-driven helpers.

---

## 1. Organize Your Project Structure

Organizing your project clearly helps GORM CLI locate your interfaces and models and simplifies future maintenance.

- **Separate Models and Interfaces:** Place your Go struct models and query interfaces in logically grouped packages or directories but keep them within the same project repository.
- **Model Files:** Define your GORM model structs in dedicated files, e.g., `models/user.go`.
- **Interface Files:** Write your raw SQL interface definitions in Go files, e.g., `query.go` or grouped by feature like `filters.go`.

### Recommended layout example:

```
/myproject
  /models
    user.go           # Define your User struct here
    account.go        # Define other models
  /queries
    query.go          # Define interfaces with SQL annotations
  /generated          # Output directory for generated code (optional)
```

## 2. Define Your Models

Your data models are the foundation. GORM CLI uses these to generate field helpers and associations.

- Define Go structs embedding `gorm.Model` or your custom IDs and fields.
- Use Go struct tags (`gorm:""`) for ORM relationships and field definitions.
- Place models in a clear package (e.g., `models`).

```go
package models

import "gorm.io/gorm"

type User struct {
  gorm.Model
  Name   string
  Age    int
  Role   string
  IsAdult bool
}
```

## 3. Create Your Query Interfaces

Query interfaces provide raw SQL templates in method comments for GORM CLI to generate type-safe query APIs.

- Write interfaces in Go files (inside package or subpackage).
- Annotate methods with SQL templates using comments.
- Keep interfaces close to your models or related domain logic.

Example interface:

```go
package queries

type UserQuery[T any] interface {
  // SELECT * FROM @@table WHERE id=@id
  GetByID(id int) (T, error)

  // SELECT * FROM @@table WHERE name=@name AND age=@age
  FilterByNameAndAge(name string, age int) ([]T, error)
}
```

## 4. Add Optional Generation Configuration

To control the generation behavior, you can create a package-level `genconfig.Config` variable.

- Specify custom output paths, field mappings, and interface inclusion/exclusion.
- Place this config in a file like `config.go` inside the same package as your interfaces or models.

Example config to only include interfaces starting with `Query`:

```go
package queries

import "gorm.io/cli/gorm/genconfig"

var _ = genconfig.Config{
  IncludeInterfaces: []any{"Query*"},
}
```

## 5. Verify Your Project is Ready

Before running code generation, confirm:

- Your Go interfaces contain raw SQL annotations.
- Models have proper ORM struct tags and definitions.
- Optional configs are placed with interfaces or models.
- Output directory either exists or will be created.

<Tip>
Use consistent naming conventions to keep your project clear and maintainable. Place interfaces and models logically so GORM CLI’s recursive parsing finds everything seamlessly.
</Tip>

## 6. Next Steps

With your project laid out and model/query files defined, you're ready to:

- [Configure Code Generation](https://your-docs-link/getting-started/configuration-quickstart/configuring-generation) to customize generation behavior.
- [Run the Generator](https://your-docs-link/getting-started/configuration-quickstart/running-the-generator) using the CLI commands.
- Explore examples of writing interfaces and models in the guides section.

---

## Troubleshooting Common Setup Pitfalls

<AccordionGroup title="Common Issues">
<Accordion title="Generated Code Not Appearing in Output Directory">

- **Cause:** Output directory path not set or does not exist.
- **Solution:** Ensure you specify an output path with `-o` flag or use the default (`./g`). The directory will be created if missing.

```bash
gorm gen -i ./queries -o ./generated
```

</Accordion>

<Accordion title="Interfaces Not Detected or Generated">

- **Cause:** Interfaces missing SQL template comments or package typos.
- **Solution:** Verify your interfaces have methods commented with raw SQL templates. Check spelling and package imports.

</Accordion>

<Accordion title="Models Not Found by Generator">

- **Cause:** Models are located outside the scanned package or missing imports.
- **Solution:** Place models inside or under the package directory passed to `-i` or ensure cross-package usage is handled properly.

</Accordion>

</AccordionGroup>