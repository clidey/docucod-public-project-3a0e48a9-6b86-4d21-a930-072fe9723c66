---
title: "Troubleshooting Setup & Generation Issues"
description: "Provides concise solutions for common setup or code generation issues, such as Go version errors, missing dependencies, config mistakes, or output directory problems, to help users recover quickly."
---

# Troubleshooting Setup & Generation Issues

This troubleshooting guide addresses common issues users may encounter during the setup or code generation phases when working with GORM CLI. It provides concise solutions to errors such as Go version incompatibilities, missing dependencies, misconfigured generation settings, and output directory problems, enabling you to recover quickly and keep your development workflow smooth.

---

## 1. Go Version and Environment Errors

### Problem: Installation Fails or CLI Does Not Run

- **Cause:** Go version is less than 1.18 or environment variables are not set correctly.

- **Resolution:**
  1. Verify your Go version:

  ```bash
  go version
  ```

  Ensure the version output is 1.18 or higher (required for Go generics).

  2. If using `go install gorm.io/cli/gorm@latest` failed:

  - Confirm your `GOPATH` and `GOBIN` are correctly set and added to your system PATH.
  - You can add the Go bin directory to PATH (example for Linux/macOS):

    ```bash
    export PATH="$PATH:$(go env GOPATH)/bin"
    ```

  3. After setting PATH, try reinstalling:

  ```bash
  go install gorm.io/cli/gorm@latest
  ```

<Check>
Always ensure your environment uses Go 1.18+ due to generics requirements.
</Check>

---

## 2. Missing or Outdated Dependencies

### Problem: Generation Fails with Import or Module Errors

- **Cause:** Required modules like `gorm.io/gorm` are missing or versions are incompatible.

- **Resolution:**
  1. Ensure your Go module dependencies include GORM 1.23+ or later.

  2. Run:

  ```bash
  go mod tidy
  go mod download
  ```

  3. Confirm `gorm.io/gorm` is present in your `go.mod` with a compatible version.

  4. If you encounter errors during generation regarding missing packages, ensure your `go.mod` and `go.sum` files are up to date.

<Note>
GORM CLI depends on `gorm.io/gorm` for integration; mismatched versions can cause failures.
</Note>

---

## 3. Configuration Mistakes That Block Generation

### Problem: No Code Generated or Certain Files Are Omitted

- **Cause:** Incorrect or overly restrictive `genconfig.Config` settings (e.g., exclude filters, file-level scope).

- **Resolution:**
  1. Review any declared configs in your source packages, typically defined as:

  ```go
  var _ = genconfig.Config{
    OutPath: "./generated",
    IncludeInterfaces: []any{"Query*"},
    ExcludeStructs: []any{"*DTO"},
  }
  ```

  2. Check for the following common pitfalls:

     - Overly broad exclusion lists that may filter out valid interfaces or structs.
     - Setting `FileLevel: true` may limit config scope unexpectedly.
     - Pattern matching mistakes in Include or Exclude filters.

  3. Adjust filters carefully, or remove them temporarily to verify generation works.

  4. Verify that your interfaces and structs match your filter criteria exactly, including package paths and naming patterns.

<Warning>
Misconfigured filters prevent the generator from detecting types to generate code for.
</Warning>

---

## 4. Output Directory and File Write Errors

### Problem: Generated Files Not Found or Write Permission Errors

- **Cause 1:** The output directory path (`-o` flag) or config `OutPath` is incorrect or inaccessible.
- **Cause 2:** Lack of file system write permissions.

- **Resolution:**
  1. Specify or confirm the output directory with the command:

  ```bash
  gorm gen -i ./path/to/src -o ./path/to/generated
  ```

  2. Ensure the output directory exists or can be created by the CLI.

  3. Check user permissions for writing files in the target directory.

  4. If you encounter permission errors, try running with elevated privileges or adjust directory permissions.

---

## 5. Common Runtime Errors During Generation

### Problem: Panics or Unexpected Errors When Running `gorm gen`

- **Cause:** SQL template parsing failures, method signature violations, or unsupported return types.

- **Resolution:**

  1. **Validate your interface methods:**
     - Methods with finishing SQL (`Raw` SQL) must return at least one value and the last must be `error`.
     - Methods with multiple returns must have the second return value as `error`.

  2. **Check SQL template syntax:**
     - Use the DSL directives correctly (`{{where}}`, `{{set}}`, `@param`, `@@table` etc.) in method comments.
     - Avoid unsupported or malformed templates that trigger parser panics.

  3. Errors typically show method names and files; use these to pinpoint problematic functions.

<Info>
Consult the guide on [Writing Advanced SQL Templates with the Embedded DSL](/guides/advanced-patterns/template-dsl) for syntax correctness.
</Info>

---

## 6. Tips for Fast Recovery and Debugging

- Run the generation command with verbose output if available or redirect stderr to inspect errors.
- Simplify your interface and model declarations to isolate problematic parts.
- Temporarily remove filtering configurations in `genconfig.Config` to rule out configuration issues.
- Check your Go environment using `go env` for misconfiguration.

---

## 7. When to Seek Help

- Persistent errors after verifying Go version, dependencies, config, and output paths.
- Unclear error messages regarding AST parsing or template rendering.

In those cases:

- Review the official GORM CLI [README](https://github.com/go-gorm/cli/blob/main/README.md) for updates.
- Consider opening an issue with detailed error context on the GORM CLI GitHub repository.

---

## Summary
This troubleshooting guide helps you quickly diagnose and fix common setup and generation problems encountered using GORM CLI. By verifying Go version, dependencies, configurations, output permissions, and SQL template syntax, you maintain a smooth code generation workflow and minimize downtime.

---

## Related Documentation
- [Prerequisites & System Requirements](/getting-started/setup-installation/prerequisites)
- [Installation Guide](/getting-started/setup-installation/installation)
- [Configuring Generation](/overview/feature-tour/customization-config)
- [Writing Advanced SQL Templates with the Embedded DSL](/guides/advanced-patterns/template-dsl)
- [Generating Code](/getting-started/first-run-usage/generating-code)

---

## Example: Quick Diagnostic Commands

```bash
# Check Go version
go version

# Verify GORM dependency
go list -m all | grep gorm.io/gorm

# Test generation with minimal config
gorm gen -i ./examples -o ./generated

# Inspect go.mod for version constraints
cat go.mod | grep gorm.io/gorm
```

<Note>
Perform these steps immediately when facing generation issues before deeper code inspection.
</Note>
