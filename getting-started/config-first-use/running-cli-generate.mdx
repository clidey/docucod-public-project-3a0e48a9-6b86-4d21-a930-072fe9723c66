---
title: "Generate Your First Code"
description: "Run the CLI tool to generate type-safe query APIs and field helpers. Includes key flags, expected output, and verification steps. Focuses on quickly turning your models and interfaces into usable code."
---

# Generate Your First Code

This guide walks you through running the GORM CLI code generator to transform your Go interfaces and model definitions into type-safe query APIs and model-driven field helpers. By the end, you'll have generated usable Go code that interacts safely and fluently with your database through GORM.

---

## Prerequisites

Before generating your first code, ensure the following:

- You have Go 1.18 or later installed (for generics support).
- Your project contains:
  - Go structs defining your models.
  - Interfaces that define your query APIs with embedded SQL templates in method comments.
- You have installed the GORM CLI tool:

```bash
go install gorm.io/cli/gorm@latest
```

- Your Go environment's `GOPATH` and `PATH` are configured to access the `gorm` CLI command.

<Tip>
Verify your Go version and CLI installation with:

```bash
go version
gorm version
```

If `gorm version` returns information, your CLI is installed correctly.
</Tip>

## Step 1: Prepare Your Code Structure

Organize your code so that your model definitions and query interface are accessible to the generator. A typical layout looks like this:

```plaintext
/examples
  models/user.go           # Your model structs
  query.go                 # Your SQL-template query interfaces
  genconfig.go             # Optional config for generation overrides
```

Example model `User` struct:

```go
package models

type User struct {
  ID   uint
  Name string
  Age  int
}
```

Example query interface with SQL template comments:

```go
package examples

type Query[T any] interface {
  // SELECT * FROM @@table WHERE id=@id
  GetByID(id int) (T, error)
}
```

Ensure these files are within the same module and import paths resolve correctly.

## Step 2: Run the Code Generator

Invoke the `gorm gen` CLI command, specifying the input directory containing your model and interface files and the output directory where generated code will be placed.

```bash
gorm gen -i ./examples -o ./generated
```

- `-i, --input`: Path to your package containing your interfaces and models.
- `-o, --output`: Target directory for generated code; defaults to `./g` if omitted.

### What Happens During Generation

- GORM CLI parses your input Go files.
- Extracts models and query interfaces, processing embedded SQL templates.
- Produces two main outputs:
  - Typed, fluent query API code exposing methods defined in your interfaces.
  - Field helpers derived from your model structs for building query predicates and updates.

### Monitor Output

During generation, you should see console messages like:

```
Generating file ./generated/query.go from ./examples/query.go...
Generating file ./generated/models.go from ./examples/models/user.go...
```

<Tip>
If generation emits errors, verify:

- Input path points to a valid Go package.
- Interfaces follow the documented method and return value conventions.
- Your Go code compiles without syntax errors.
</Tip>

## Step 3: Verify Generated Code

Inspect the output directory (e.g., `./generated`) for generated files.

1. Confirm files like `query.go` and `models.go` exist.
2. Open generated files to verify presence of:
   - Type-safe query interface implementations.
   - Structs or variables exposing model field helpers.

## Step 4: Use Your Generated APIs

Integrate the generated code in your application:

```go
package main

import (
  "context"
  "fmt"
  "gorm.io/cli/gorm/generated"
  "gorm.io/gorm"
  "gorm.io/driver/sqlite"
)

func main() {
  db, err := gorm.Open(sqlite.Open("test.db"), &gorm.Config{})
  if err != nil {
    panic(err)
  }

  ctx := context.Background()

  // Use generated query API
  user, err := generated.Query[generated.User](db).GetByID(ctx, 1)
  if err != nil {
    fmt.Printf("Error fetching user: %v", err)
    return
  }

  fmt.Printf("User: %+v\n", user)
}
```

<Tip>
The generated APIs automatically inject `context.Context` if not explicitly declared, so you always have context management for your DB calls.
</Tip>

## Essential CLI Flags and Usage

| Flag          | Description                              | Required | Default    |
| ------------- | -------------------------------------- | -------- | ---------- |
| `-i`, `--input`   | Input directory/file with interfaces    | Yes      | â€”          |
| `-o`, `--output`  | Directory for output generated code     | No       | `./g`      |

Example minimal command:

```bash
gorm gen -i ./examples
```

This will generate code under `./g` if output is not specified.

## Troubleshooting Common Issues

<AccordionGroup title="Troubleshooting Generation Issues">
<Accordion title="Cannot find input directory or files">
Verify the path you provide with `-i` points to the directory or Go file that contains your query interface and models. It must be accessible and importable.

Fix any typos or relative path errors.
</Accordion>
<Accordion title="Generated files are empty or methods missing">
Check that your interface methods have properly formatted SQL comments that the generator can parse.

Ensure your method signatures meet the requirements (return error or (T, error)).

Review documentation on [Defining Query Interfaces & SQL Templates](https://example.com/guides/core-workflows/query-apis-and-templates).
</Accordion>
<Accordion title="`gorm` command not found after installation">
Confirm your Go bin directory is in your system's PATH.

You can find it with `go env GOPATH` and add `$GOPATH/bin` to your PATH.
</Accordion>
</AccordionGroup>

## Verification Checklist

After generating your code, confirm:

- Generated files exist under specified output path.
- Methods on the generated query APIs match your defined interfaces.
- Model field helpers are generated for all exported fields.
- The generated code compiles successfully with your Go application.

## Next Steps

- Explore running generated queries in your app.
- Learn to customize generation via `genconfig.Config` for field mappings or output locations.
- Study using model-driven field helpers for filtering, updating, and associations.

Helpful related docs:
- [Prepare Your Project & Quickstart](getting-started/config-first-use/project-structure-and-quickstart)
- [Validate & Use Your Generated APIs](getting-started/config-first-use/validate-generated-code)
- [Configuration Essentials](getting-started/config-first-use/basic-cli-configuration)

<Tip>
For examples and real-world usage, review the `examples` directory in the GORM CLI repository.
</Tip>

---