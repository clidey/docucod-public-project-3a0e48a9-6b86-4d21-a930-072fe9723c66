---
title: "Prepare Your Project & Quickstart"
description: "Organize your Go project with model and interface files as expected by GORM CLI. See real examples for models and query interfaces from a working sample, so you can mirror best practices from the start."
---

# Prepare Your Project & Quickstart

Organizing your Go project correctly is the first step to successfully leveraging GORM CLI's powerful code generation features. This guide walks you through structuring your model and query interface files as expected by GORM CLI, using real examples from the official sample codebase. By mirroring these best practices, you’ll ensure a smooth generation process and easy integration of your generated APIs.

---

## 1. Project Organization Overview

GORM CLI expects your Go project’s folder structure to be organized clearly around your models and query interfaces. This enables the tool to detect and process your source files efficiently, generating type-safe query APIs and model-driven field helpers.

### Recommended Structure

- **Model definitions**: Put your Go structs representing database tables in a dedicated package (e.g., `models`).
- **Query interfaces with SQL templates**: Define your interfaces with embedded SQL query annotations in a separate package or directory (e.g., `examples` or `queries`).
- **Code generation output**: Specify an output directory where GORM CLI will dump generated code (e.g., `generated`).

Example:

```
/your-project/
  ├─ models/
  │    └─ user.go         # Go structs representing tables
  ├─ examples/
  │    └─ query.go        # SQL-template query interfaces
  ├─ generated/           # Generated code output directory
  └─ go.mod
```

This clear separation supports modularity, clarity, and straightforward import paths.

---

## 2. Defining Models

Your models should be regular Go structs that reflect your database schema. GORM CLI uses these structs to generate field helpers with type safety.

### Key Best Practices for Models:

- Export all fields that map to database columns.
- Include GORM tags if needed to control table/column names.
- Add struct tags such as `gen:"json"` or other custom tags for field helper mapping.

### Real Example: User Model

```go
package models

import (
	"gorm.io/gorm"
)

type User struct {
	gorm.Model
	Name  string
	Age   int
	Email string
}
```

This simple `User` struct includes embedded `gorm.Model` for default fields like ID, timestamps, and exposes explicit fields.

---

## 3. Writing Query Interfaces with SQL Templates

GORM CLI requires you to write Go interfaces whose methods include SQL templates in comments. The generator parses these methods to build type-safe query APIs.

### Key Points:

- Use Go interfaces with generic type parameters if needed.
- Write SQL in method comments, using the GORM CLI SQL Template DSL.
- Use placeholders like `@@table`, `@param`, and directives like `{{where}}` to create dynamic SQL.

### Real Example: Query Interface

```go
package examples

import (
	"time"
	"gorm.io/cli/gorm/examples/models"
)

type Query[T any] interface {
	// SELECT * FROM @@table WHERE id=@id
	GetByID(id int) (T, error)

	// SELECT * FROM @@table WHERE @@column=@value
	FilterWithColumn(column string, value string) (T, error)

	// SELECT * FROM @@table
	// {{where}}
	//   {{if user.Name != ""}} name=@user.Name {{end}}
	//   {{if user.Age > 0}} AND age=@user.Age {{end}}
	// {{end}}
	QueryWith(user models.User) (T, error)

	// UPDATE @@table
	// {{set}}
	//   {{if user.Name != ""}} name=@user.Name, {{end}}
	//   {{if user.Age > 0}} age=@user.Age {{end}}
	// {{end}}
	// WHERE id=@id
	UpdateInfo(user models.User, id int) error

	// SELECT * FROM @@table
	FilterWithTime(start, end time.Time) ([]T, error)
}
```

This interface shows diverse SQL templates, conditional SQL clauses, updates, and dynamic filtering.

---

## 4. Quickstart: Bringing It Together

Once your models and query interfaces are properly defined and organized in your Go project, you’re ready to run the GORM CLI generator and create your type-safe APIs.

### Example Steps

1. **Navigate to your project root**

   ```bash
   cd /path/to/your-project
   ```

2. **Run the code generator specifying input and output**

   ```bash
   gorm gen -i ./examples -o ./generated
   ```

   - `-i ./examples` points to your folder/package containing query interface files.
   - `-o ./generated` specifies the directory where generated code will be saved.

3. **After successful generation**, import and use generated APIs in your application:

   ```go
   import (
	"context"
	"your-project/generated"
	"your-project/models"
	"gorm.io/gorm"
   )

   func exampleUsage(db *gorm.DB) error {
	ctx := context.Background()
	userQuery := generated.Query[models.User](db)
	user, err := userQuery.GetByID(ctx, 123)
	if err != nil {
		return err
	}
	// use user object
	return nil
   }
   ```

This code snippet demonstrates fluent, type-safe query calls powered by the generated API.

---

## 5. Tips & Common Pitfalls

- **Ensure your interface methods return errors and, if querying, proper data types.** The generator checks method signatures strictly.
- **Keep your models exported with non-anonymous field names** to guarantee code generation of field helpers.
- **Use consistent naming conventions** for easier maintainability and predictable generated code.
- **Refer to `genconfig.Config` for advanced filtering and customization** of generation behavior.

<Warning>
If your interfaces or structs are not discovered by the generator, verify folder paths and inclusion patterns (like `IncludeInterfaces`) in any config files.
</Warning>

---

## 6. Next Steps

- Explore the [Running CLI Generate](https://your-docs/getting-started/config-first-use/running-cli-generate) page for detailed steps on invoking generation.
- Learn how to customize generation using [Configuration Essentials](https://your-docs/getting-started/config-first-use/basic-cli-configuration).
- After generation, see [Validate & Use Your Generated APIs](https://your-docs/getting-started/config-first-use/validate-generated-code) to integrate smoothly.
- For deeper insights, review [Defining Query Interfaces & SQL Templates](https://your-docs/guides/core-workflows/query-apis-and-templates) and [Using Generated Field Helpers](https://your-docs/guides/core-workflows/using-generated-field-helpers).

---

## References

- [GORM CLI Overview & Quickstart Workflow](https://your-docs/overview/feature-highlights-getting-started/quickstart-workflow)
- [GORM CLI Installation Instructions](https://your-docs/getting-started/setup-introduction/installation-instructions)
- [GORM CLI SQL Template DSL Guide](https://your-docs/guides/advanced-usage/template-dsl-cookbook)

---

*This page is your practical foundation to ensure your project structure aligns with GORM CLI expectations and lets you start generating code confidently and efficiently.*

---


<Source url="https://github.com/go-gorm/cli" branch="main" paths={[{"path": "examples/query.go", "range": "1-56"}, {"path": "examples/models/user.go", "range": "1-15"}]} />


