---
title: "Configuration Basics"
description: "Establish your first code generation configuration using `genconfig.Config` or the CLI’s flags. Understand the default conventions, basic configuration options, and where to place your config for the generator to pick it up."
---

# Configuration Basics

Establish your first code generation configuration using `genconfig.Config` or the CLI’s flags. This guide explains the default conventions, basic configuration options, and where to place your config so the GORM CLI generator automatically picks it up.

---

## 1. What Is `genconfig.Config`?

`genconfig.Config` is a Go struct that lets you customize how GORM CLI generates your type-safe query APIs and field helpers. It controls details like output directory, type mappings for custom field helpers, and filtering which interfaces or structs get code generated.

You define it as a package-level variable in the Go source files you want to generate code for. The GORM CLI will find and apply it automatically during generation.

---

## 2. Default Behavior and Placement

- **No config required:** By default, GORM CLI works without any explicit configuration. It scans your packages/interfaces and generates code into the current working directory or the output path you specify with CLI flags.
- **Config location:** To customize config, declare a package-level variable like this in any `.go` source file inside the target package:

```go
package yourpackage

import "gorm.io/cli/gorm/genconfig"

var _ = genconfig.Config{
    // your config options
}
```

- The generator automatically detects and applies the configuration at package level, so you don't need additional CLI flags unless overriding.

---

## 3. Basic Configuration Options

Here are the most commonly used fields you should know about in `genconfig.Config`:

| Field             | Description |
|-------------------|-------------|
| **OutPath**       | Overrides the output folder where generated files are saved for this package. Useful if you want generation output in a specific directory. |
| **FieldTypeMap**  | Maps specific Go types to custom field helper types. For example, map `sql.NullTime{}` to `field.Time{}` to generate time-related helpers. |
| **FieldNameMap**  | Maps struct field tags (from `gen:"tag"` on struct fields) to custom helpers. This allows per-field type customization based on tag names like `json` or `date`. |
| **FileLevel**     | Boolean. If true, applies config only to the current file instead of the whole package. Useful for finer granularity. |
| **IncludeInterfaces** | Whitelist: Only generate code for interfaces matching these patterns, types, or literals. Supports shell-style patterns or Go type literals. Overrides exclusion. |
| **ExcludeInterfaces** | Blacklist: Exclude interfaces matching these selectors. Applied only if no include list is set. |
| **IncludeStructs**     | Whitelist: Only generate for structs matching these selectors or patterns. |
| **ExcludeStructs**     | Blacklist: Exclude structs matching these selectors or patterns.

---

## 4. Practical Examples

### Example 1: Minimal Config

To output generated code to a specific folder and map `sql.NullTime{}` fields to the built-in `field.Time{}` helper:

```go
package examples

import (
  "database/sql"
  "gorm.io/cli/gorm/field"
  "gorm.io/cli/gorm/genconfig"
)

var _ = genconfig.Config{
  OutPath: "examples/output",
  FieldTypeMap: map[any]any{
    sql.NullTime{}: field.Time{},
  },
}
```

### Example 2: Using Include/Exclude Filters

To generate code for only interfaces named `Query*` and structs named `User` or prefix `Account`:

```go
var _ = genconfig.Config{
  IncludeInterfaces: []any{"Query*"},
  IncludeStructs: []any{"User", "Account*"},
}
```

To exclude deprecated interfaces or DTO structs:

```go
var _ = genconfig.Config{
  ExcludeInterfaces: []any{"*Deprecated*"},
  ExcludeStructs: []any{"*DTO"},
}
```

### Example 3: Tag-based Field Helper Mapping

Map struct fields tagged with `gen:"json"` to a custom `JSON` helper:

```go
import "gorm.io/cli/gorm/genconfig"

var _ = genconfig.Config{
  FieldNameMap: map[string]any{
    "json": JSON{},
  },
}
```

(Refer to the JSON helper guide for defining custom helpers.)

---

## 5. Using Configuration with the CLI

- Place your configuration file in the target package.
- Run the CLI command:

```bash
gorm gen -i ./path/to/package
```

- The generator automatically detects and applies your `genconfig.Config` without extra flags.

- You can override the output folder with the CLI `-o` flag, but package-level config `OutPath` has priority.

---

## 6. Best Practices and Tips

- **Start simple.** Use config only when customization is necessary. The defaults are powerful enough for most uses.
- **Use include/exclude filters** to limit generation scope and speed up generation.
- **Prefer field tag mapping** for custom helpers tied to struct fields, rather than type-based mapping.
- **Use `FileLevel` cautiously** for per-file configuration in large repos.
- **Keep the config close.** For clarity, declare config in the package where code generation occurs.

---

## 7. Common Pitfalls

- **Config not applied?**
  - Ensure your `genconfig.Config` variable is declared at package level and imported correctly.
  - The variable must be assigned (`var _ = genconfig.Config{}`) to be detected.
- **Filtering too broad?**
  - If your `IncludeInterfaces` or `IncludeStructs` are empty but exclusions are set, exclusions will be ignored.
- **Wrong output path?**
  - Confirm `OutPath` is set relative to your current project directory.
- **Field helper mappings not triggering?**
  - Verify the Go type is exactly matched in `FieldTypeMap`; use fully qualified types if necessary.
  - For `FieldNameMap`, confirm struct tags match exactly the string keys.

---

## 8. Summary

By defining `genconfig.Config` in your package, you control where your generated code lives, how field helpers map to Go types or tags, and which interfaces or structs get generated at all. This flexibility tailors the GORM CLI code generation to your project’s unique needs while keeping everything automatic and integrated.

---

## Appendix: `genconfig.Config` Struct Fields

```go
type Config struct {
  OutPath string
  FieldTypeMap map[any]any
  FieldNameMap map[string]any
  FileLevel bool
  IncludeInterfaces []any
  ExcludeInterfaces []any
  IncludeStructs []any
  ExcludeStructs []any
}
```

Use this as a reference when declaring your custom configurations.

---

## Related Documentation

- [Quickstart Workflow](https://docs.gorm.io/getting-started/quickstart-workflow) — Overview of the first generation steps.
- [Customizing Generation with genconfig.Config](https://docs.gorm.io/guides/customization-integration/genconfig-config-guide) — Detailed guide on advanced config usage.
- [Define Models & Query Interfaces](https://docs.gorm.io/getting-started/first-generation/define-models-interfaces) — How to set up your Go interfaces and models for generation.
- [Run the Code Generator](https://docs.gorm.io/getting-started/first-generation/run-code-generator) — How to trigger your generation with GORM CLI.

---

For questions or troubleshooting, please visit the GORM CLI GitHub repository or support forums.

<Source url="https://github.com/go-gorm/cli" paths={[{"path": "genconfig/config.go", "range": "1-79"}]} />