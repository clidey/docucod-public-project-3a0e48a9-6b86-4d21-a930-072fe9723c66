---
title: "Troubleshooting Setup Issues"
description: "Identify and fix common pitfalls encountered during installation, configuration, and the first code generation. Offers actionable guidance for resolving errors and links to key files for deeper diagnostics."
---

# Troubleshooting Setup Issues

This guide helps you identify and resolve common pitfalls encountered during the installation, configuration, and first code generation phases of GORM CLI. By following these targeted troubleshooting techniques, you can swiftly restore your setup and get back on track.

---

## 1. Installation Issues

### Problem: `go install` command fails or `gorm` CLI is not found

**Symptoms:**
- `go install gorm.io/cli/gorm@latest` returns an error.
- Running `gorm` in your terminal shows "command not found".

**Resolution:**

1. Verify your Go version is 1.18 or newer.

   ```bash
   go version
   ```

1. Confirm your `$GOPATH/bin` or `$GOBIN` is included in your system PATH.

   ```bash
   echo $PATH
   # or on Windows
   echo %PATH%
   ```

1. If PATH is missing, add it (example for Linux/macOS):

   ```bash
   export PATH=$PATH:$(go env GOPATH)/bin
   ```

1. Retry installing the CLI:

   ```bash
   go install gorm.io/cli/gorm@latest
   ```

<Tip>
Make sure your environment variables are correctly saved and your terminal session is restarted if you modify PATH.
</Tip>

### Problem: Permission denied writing generated files

**Symptoms:**
- Errors like `failed to write file ... permission denied` during generation.

**Resolution:**
- Confirm permissions for the output directory you specified with `-o` flag.
- Use `chmod` or `chown` to grant write permissions, or choose a different directory.

```bash
chmod -R u+w ./generated-code-dir
```

---

## 2. Configuration & File Scanning Issues

### Problem: No interfaces or structs are detected for generation

**Symptoms:**
- Running `gorm gen -i ./path` produces no output files or no generation happens.

**Common Causes:**
- Your interfaces do not have properly formatted SQL template comments.
- Your `genconfig.Config` settings are excluding the interfaces or structs unwittingly.

**Steps to Fix:**

1. Verify your interfaces have SQL annotations exactly in the comments just above methods.

2. Check your `genconfig.Config` for inclusive/exclusive filters (`IncludeInterfaces`, `ExcludeInterfaces`, etc.).

3. Remember that `Include*` filters override and disable `Exclude*` filters.

4. If your structs or interfaces are in subdirectories, confirm you are passing the correct path with `-i`.

5. Consider temporarily removing your `genconfig.Config` to isolate if filtering blocks generation.

<Tip>
Use the verbose output or debugging modifications in the CLI source to see which files and interfaces are processed.
</Tip>

### Problem: Generator panics or errors parsing your Go files

**Symptoms:**
- Errors indicating "can't parse file" or panics related to methods, return values, or invalid SQL templates.

**Resolution:**
- Verify your Go code compiles and is syntactically valid.

- Confirm your methods' return values are correct:
  - At least one return value (data or error) is required.
  - If two return values are present, the second must be `error`.
  - Single return value must be `error` when used as a "finish" method.

- Check that all SQL annotation comments use the supported template DSL exactly (e.g., use `@@table`, `@param`, `{{where}}`).

- Look out for unescaped characters and invalid syntax in SQL templates causing failures.

---

## 3. First Code Generation Problems

### Problem: Generated code does not compile

**Symptoms:**
- Errors in generated files such as missing imports, undefined types, or syntax errors.

**Possible Causes:**
- Generated code missing required imports.
- Go module dependencies not properly resolved.
- Version mismatches in GORM or Go.

**Fix Steps:**
1. Run `go mod tidy` to refresh module dependencies.

2. Verify package imports in your input files are complete and correct.

3. Check your Go environment (`go env`) for module-related settings.

4. Regenerate code to ensure templates properly run.

5. Verify your model structs use exported names and comply with GORM standards.

<Tip>
If you have defined custom field mappings in your config, validate they reference valid types.
</Tip>

### Problem: Generated code missing certain methods or fields

**Cause:** Filtering in your `genconfig.Config` or file-level config disabling some generation.

**Resolution:**
- Review your includes/excludes in the configuration.
- Confirm `FileLevel` option in the config and whether it affects filtering scope.
- Ensure model structs have public field names.

---

## 4. Common CLI Command Troubleshooting

```bash
# Sample command
gorm gen -i ./examples -o ./generated
```

- Ensure the input path `-i` points to the correct directory/file containing interfaces with SQL templates.

- The output path `-o` must be writable.

- Missing `-i` will cause command failure; it is required.

- If generation completes but no files are written, suspect filtering.

---

## 5. Debugging and Diagnostics

### Inspecting Generator Logs

Enable verbose logging by modifying the CLI source or using print statements if you have a local copy.

### Validating SQL Template Parsing

Ensure your SQL templates are valid by checking the method documentation comments.

Example valid SQL template method:

```go
// SELECT * FROM @@table WHERE id=@id
GetByID(id int) (T, error)
```

Verify:
- Use of `@@table` for table name replacement.
- Named parameters match method parameters.
- Use of supported template commands.

### Checking Generated Files

Look inside the output directory. Confirm files exist and have recent modification timestamps.

Check for generated files matching your package and model names.

---

## 6. Links to Relevant Files for Deeper Diagnostics

- [`internal/gen/gen.go`](https://github.com/go-gorm/cli/blob/main/internal/gen/gen.go): Entry point for the `gen` command.
- [`internal/gen/generator.go`](https://github.com/go-gorm/cli/blob/main/internal/gen/generator.go): Core generator logic, file scanning, parsing, and code emission.
- [`examples/query.go`](https://github.com/go-gorm/cli/blob/main/examples/query.go): Example input interfaces with SQL templates.
- [`examples/filters/pattern/config.go`](https://github.com/go-gorm/cli/blob/main/examples/filters/pattern/config.go): Example of config filtering.

---

## 7. Additional Tips and Best Practices

- Start with a minimal interface and model to validate the basics before progressing to complex templates.
- Avoid mixing multiple configurations until you confirm each works independently.
- Regularly run `go fmt` and `go vet` on your project to catch issues early.
- Use explicit error handling in generated method calls to catch runtime issues.

---

# Summary
This Troubleshooting guide equips you to tackle common errors during installation, configuration, and initial code generation with GORM CLI. It helps ensure your environment is correctly set up, your code meets the generator's expectations, and your configurations support your intent. When needed, refer to core source files for advanced diagnostics and validation.


---

# Support and Feedback
If issues persist despite these steps, consider engaging with the [GORM GitHub repository](https://github.com/go-gorm/cli) issues section for community and maintainer support.

---

> End of Troubleshooting Setup Issues guide
