---
title: "Validating Your First Code Generation"
description: "Easy steps to confirm that the generated code builds and integrates with your GORM project. Walks through compiling, importing, and running a simple query to ensure end-to-end correctness."
---

# Validating Your First Code Generation

Walk through simple, practical steps to confirm your generated code builds, imports, and runs successfully within your GORM project. This guide ensures you end-to-end validate that your type-safe query APIs and field helpers are integrated correctly and function as expected.

---

## 1. Build and Compile the Generated Code

After running the GORM CLI generator, the first critical step is to verify the generated code compiles without errors.

### Step-by-Step

1. Locate your generated code directory (commonly `./g` or the directory specified by the `--output` flag during generation).

2. Run the Go build command on the generated package:

```bash
cd ./g
go build ./...
```

3. If the build passes, it confirms syntactical correctness and that the code properly references your models, query interfaces, and dependencies.

> **Tip:** Any build errors often stem from incomplete or incorrect definitions in your input interfaces or models. Verify those before regenerating.


## 2. Import the Generated Package into Your Project

To test the generated code in a real GORM context, import it into a main Go package or your application.

For example, if you generated code to `./generated` and your module name is `example.com/myapp`, import like this:

```go
import (
  "context"
  "gorm.io/gorm"
  generated "example.com/myapp/generated"
)

func main() {
  // Assume `db` is your *gorm.DB initialized connection

  // Create query interface for User
  userQuery := generated.Query[models.User](db)
  _ = userQuery
}
```

> **Note:** Replace `example.com/myapp` with your actual module path. Ensure your Go modules are configured correctly so imports resolve.


## 3. Run a Simple Query Using the Generated API

Verify the generated query interfaces return data correctly by running a basic query.

### Example: Fetch a User by ID

```go
package main

import (
  "context"
  "fmt"

  "gorm.io/driver/sqlite"
  "gorm.io/gorm"

  generated "example.com/myapp/generated"
  "example.com/myapp/models"
)

func main() {
  ctx := context.Background()

  // Initialize GORM with SQLite (replace with your DB config)
  db, err := gorm.Open(sqlite.Open("test.db"), &gorm.Config{})
  if err != nil {
    panic("failed to connect database")
  }

  // Create instance of generated Query interface
  userQuery := generated.Query[models.User](db)

  // Run GetByID method generated from your Query interface
  user, err := userQuery.GetByID(ctx, 1)
  if err != nil {
    fmt.Printf("failed to fetch user: %v\n", err)
    return
  }

  fmt.Printf("Fetched user: %+v\n", user)
}
```

### Expected Outcome
- The query executes without errors.
- A valid `User` struct is returned (or no result if record ID 1 does not exist).

> **Checkpoint:** If errors occur here, validate your database connection, schema, and that the generated code matches your current models.


## 4. Verify Field Helpers Work as Expected

Test that your generated field helpers correctly build predicates for use in queries.

### Example: Find Users Older Than 18 with Role "active"

```go
ctx := context.Background()

// Use generated field helpers for building expressions
users, err := gorm.G[models.User](db).
  Where(generated.User.Age.Gt(18), generated.User.Role.Eq("active")).
  Find(ctx)

if err != nil {
  fmt.Printf("query failed: %v\n", err)
  return
}

fmt.Printf("Found %d active users over 18\n", len(users))
```

This confirms the fluent, typed API produced by the generator is usable and effective.


## 5. Run Basic Tests (If Provided)

If your project or the generator examples include test files (e.g., `models_field_helpers_test.go`), run them to validate behavior:

```bash
go test ./generated/...
```

Tests cover common patterns and verify that queries and updates return expected results.


## Troubleshooting Tips

<AccordionGroup title="Common Issues When Validating Generated Code">
<Accordion title="Build Errors Related to Imports or Types">
- Ensure your Go modules are up to date (`go mod tidy`).
- Verify your input interfaces and model definitions are complete and properly formatted.
- Check your `genconfig.Config` for include/exclude settings that might omit necessary code.
</Accordion>
<Accordion title="Runtime Errors When Querying">
- Confirm your database is running and accessible.
- Check your database schema matches your model definitions.
- Ensure context (`ctx`) is correctly passed.
</Accordion>
<Accordion title="No Data Returned from Queries">
- Confirm the database has seeded data.
- Validate query method parameters are correct.
- Try direct raw SQL queries in your DB client to test data presence.
</Accordion>
</AccordionGroup>

<Tip>
You can also consult the [Troubleshooting Common Issues guide](https://gorm.io/cli/docs/getting-started/troubleshooting-validation/troubleshooting) for detailed fixes if validation fails.
</Tip>


## Next Steps

- Once basic validation passes, explore using your generated code more extensively with associations and advanced queries.
- Refer to the [Using the Generated Code guide](https://gorm.io/cli/docs/getting-started/first-code-gen/first-use) for practical API usage examples.
- For customizing your generator, see the [Configuration and Customizing Generation](https://gorm.io/cli/docs/guides/advanced-usage/customizing-generation) documentation.


---

## Summary

This guide methodically confirms that your generated GORM CLI code builds correctly, imports seamlessly, and executes simple queries successfully to ensure your first code generation is fully operational.

---

# Visual Flowchart: Code Generation to Validation

```mermaid
flowchart TD
  A[Generate Code using GORM CLI] --> B[Generated Code Files]
  B --> C[Compile / Build Generated Files]
  C -->|Success| D[Import in Your Application]
  D --> E[Initialize Generated Query Interface]
  E --> F[Run Simple Query (e.g., GetByID)]
  F --> G{Query Succeeds?}
  G -- Yes --> H[Run Field Helper Predicates]
  G -- No --> I[Check DB Connection & Schema]
  H --> J{Field Helpers OK?}
  J -- Yes --> K[Validation Complete]
  J -- No --> L[Review Generated Code and Models]

  %% Styling
  classDef success fill:#e0f7e9,stroke:#3a9d23,stroke-width:2px;
  classDef error fill:#fddede,stroke:#d23a3a,stroke-width:2px;

  class C,D,E,F,H,K success;
  class I,L error;
```
