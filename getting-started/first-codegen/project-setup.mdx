---
title: "Setting Up Your Project"
description: "Explains how to organize query interfaces and models for GORM CLI, with clear examples of file layouts and structure recommendations. Ensures users understand how to prepare their code for successful code generation."
---

# Setting Up Your Project

This guide helps you organize your Go project to leverage GORM CLI effectively. It focuses on structuring your query interfaces and models to prepare your code for successful code generation. Following these recommendations ensures your generated APIs are clean, intuitive, and maintainable.

---

## 1. Organizing Query Interfaces

GORM CLI generates type-safe, interface-driven query APIs from Go interfaces annotated with SQL templates. To maximize clarity and code generation success, structure these interfaces thoughtfully.

### Key Guidelines

- **Place interfaces and models in the same or adjacent packages** to simplify import paths and code generation.
- **Name your interfaces clearly and consistently,** such as `Query[T any]` for generic queries.
- **Write SQL templates as comments on interface methods,** using GORM CLI’s SQL templating DSL for dynamic, parameterized queries.

### Example File Layout

```
/project-root
  /examples
    query.go         # Contains generic Query[T any] interface with raw SQL annotations
    models.go        # Your Go structs for ORM models
  /generated         # Output directory for generated code
```

### Sample Query Interface

```go
package examples

// Query[T] defines SQL-annotated methods for querying the database.
type Query[T any] interface {
  // SELECT * FROM @@table WHERE id=@id
  GetByID(id int) (T, error)

  // SELECT * FROM @@table WHERE @@column=@value
  FilterWithColumn(column string, value string) (T, error)

  // UPDATE @@table
  // {{set}}
  //   {{if user.Name != ""}} name=@user.Name, {{end}}
  //   {{if user.Age > 0}} age=@user.Age, {{end}}
  //   {{if user.Age >= 18}} is_adult=1 {{else}} is_adult=0 {{end}}
  // {{end}}
  // WHERE id=@id
  UpdateInfo(user User, id int) error
}
```

### Tips

- Use the `@@table` directive to refer dynamically to model tables.
- Use `{{where}}`, `{{set}}`, and conditional blocks (`{{if}}`) to keep SQL flexible.
- Non-generic interfaces are also supported but generics improve type safety.

---

## 2. Defining Your Models

Models are standard Go structs representing your database tables. GORM CLI generates field helpers (for filters, updates, associations) from these structs.

### Best Practices

- **Define models in Go files close to your query interfaces or in clearly named packages** (e.g., `models` or `examples`).
- **Use standard GORM struct tagging where applicable.**
- **Add `gen:"tag"` struct tags if you want to customize generated field helpers** (e.g., JSON helpers).

### Example Model

```go
package examples

type User struct {
  ID     uint   `gorm:"primarykey"`
  Name   string
  Age    int
  Email  string
  Role   string
}
```

### Field Mapping

If you need custom mappings for fields (e.g., mapping `sql.NullTime` to a `Time` helper), declare a `genconfig.Config` in the same package:

```go
package examples

import (
  "database/sql"
  "gorm.io/cli/gorm/field"
  "gorm.io/cli/gorm/genconfig"
)

var _ = genconfig.Config{
  OutPath: "examples/generated",
  FieldTypeMap: map[any]any{
    sql.NullTime{}: field.Time{},
  },
}
```

This config also supports interface/struct inclusion/exclusion filters.

---

## 3. Directory and File Layout Recommendations

Ensure your directory is structured to reflect your package organization, which helps GORM CLI locate interfaces and models correctly.

### Recommended Layout

```
/project-root
  /examples
    query.go       # Interfaces with SQL annotations
    models.go      # Model structs
    config.go      # Optional genconfig.Config overrides
  /generated       # Default destination for generated code
```

### Configuring Output Paths

- Use `-o` flag with `gorm gen` to control where generated code goes.
- You can specify output directories per package with `genconfig.Config.OutPath`.

---

## 4. Preparing for Code Generation

Before running the generator:

1. **Confirm that your interfaces are in standard Go format** and have SQL template comments.
2. **Check that models are well-defined and imported appropriately.**
3. **Optionally create a `genconfig.Config` for custom generation settings** such as including or excluding specific interfaces or structs.

### Example `genconfig.Config` Usage

```go
package examples

import "gorm.io/cli/gorm/genconfig"

var _ = genconfig.Config{
  IncludeInterfaces: []any{"Query*"},        // Only generate for interfaces starting with Query
  ExcludeStructs:   []any{"*DTO"},           // Exclude DTO-like structs
  OutPath:          "examples/generated",    // Output directory override
}
```

---

## 5. Running the Generator

Execute GORM CLI to generate code based on your project layout and configurations.

```bash
gorm gen -i ./examples -o ./generated
```

- `-i` specifies the input directory or file containing your interfaces.
- `-o` specifies the output directory.

### Expected Outcome

- Generated Go files appear in the output directory.
- Files contain type-safe query implementations and field helpers.

### Troubleshooting

- If generation fails, check that:
  - Your interface files have correct SQL comment annotations.
  - Models and interfaces are correctly imported and accessible.
  - No syntax errors exist in your Go source files.

---

## 6. Summary

Organizing your project with clear separation of query interfaces and models, consistent naming, and optional generation configs will streamline your use of GORM CLI. Follow these recommendations to ensure smooth code generation and strongly-typed, maintainable APIs.

---

## Related Documentation

- [Quickstart: Generate Type-Safe APIs](/guides/getting-started/quickstart-workflow) — Start generating your first queries
- [Generating Code with GORM CLI](/getting-started/first-codegen/generating-code) — Detailed generation commands
- [Using Your Generated APIs](/getting-started/first-codegen/using-generated) — How to use generated code
- [What is GORM CLI?](/overview/intro-value-core/what-is-gorm-cli) — Understand the core concepts


<Tip>
Keep interface and model files clean and focused; use `genconfig.Config` to fine-tune what the generator produces.
</Tip>

<Warning>
Avoid mixing unrelated concerns in the same package to prevent confusion in generated code.
</Warning>

<Check>
After generation, verify by inspecting output and running your Go build and tests.
</Check>
