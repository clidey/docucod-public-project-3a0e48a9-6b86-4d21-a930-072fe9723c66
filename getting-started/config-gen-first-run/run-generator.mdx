---
title: "Generate Code: Your First Run"
description: "A step-by-step walkthrough for running the `gorm gen` command on your project, specifying input and output directories. Includes expected outcomes, file locations, and how to detect common mistakes or omissions in your models or interfaces."
---

# Generate Code: Your First Run

This guide provides a clear, step-by-step walkthrough to help you execute the `gorm gen` command on your project. You will learn how to specify input and output directories, understand expected outcomes such as where generated files are placed, and identify common mistakes or omissions in your models or interfaces during code generation.

---

## 1. Overview

The `gorm gen` command is the entry point for generating type-safe query APIs and model-driven field helpers from your Go source code. It processes Go interface files annotated with raw SQL templates and model struct definitions, then produces generated Go code that integrates seamlessly with GORM.

This page focuses exclusively on how to run the generator command effectively and interpret the results.

---

## 2. Prerequisites

Before running `gorm gen`, ensure you have:

- A Go environment set up with version 1.18 or newer.
- Your Go query interfaces defined with SQL annotations in a file or directory.
- Models (Go structs) declared in corresponding packages/directories.
- The `gorm` CLI tool installed (see [Install GORM CLI](https://gorm.io/docs/cli_install.html)):

```bash
go install gorm.io/cli/gorm@latest
```

- Confirmed accessibility of your input files (path must be correct).

---

## 3. Running the `gorm gen` Command

### 3.1. Command Syntax

```bash
gorm gen -i <input_path> [-o <output_path>]
```

- `-i, --input`: **Required.** Path to the Go package directory or specific Go file containing your interfaces and models.
- `-o, --output`: Optional. Directory to place generated code. Defaults to `./g` if omitted.

### 3.2. Example Usage

Assuming your interfaces and models are in `./examples`:

```bash
gorm gen -i ./examples -o ./generated
```

This command:

- Reads all Go files under `./examples`.
- Processes interfaces with raw SQL annotations.
- Processes struct models.
- Generates strongly typed query APIs and field helpers.
- Places all generated files inside `./generated`.

### 3.3. Behind the Scenes

- The tool recursively walks your input directory or processes a single file.
- It parses your Go code to extract:
  - Interfaces with annotated SQL comments.
  - Model structs and their fields.
  - Any custom generator configuration (via `genconfig.Config` literals).
- It applies any include/exclude filtering defined by config.
- It generates annotated Go files implementing your query interfaces with type safety.

---

## 4. Understanding the Output

### 4.1. Generated Files Location

- By default, files will be generated inside the output directory (`-o`), preserving relative input paths.
- For example, if an input file is `./examples/query.go`, the output file will be at `./generated/examples/query.go`.

### 4.2. Content Overview

Each generated file includes:

- Implementation types and methods fulfilling your interfaces.
- Model-based field helper variables with predicates and setter methods for filtering/updating.
- Code comments marking the generation source and warn not to edit manually.

### 4.3. Confirmation of Success

During generation, you will see console output such as:

```
Generating file ./generated/examples/query.go from /absolute/path/to/examples/query.go...
```

If no errors appear, the process has completed successfully.

---

## 5. Detecting Common Issues During Generation

If the generator encounters problems, it will return clear error messages pointing to:

- **Missing required input (`-i`)**: The tool will halt and advise specifying the interface file path.
- **Parsing errors in input files**: Results from invalid Go syntax or corrupted files.
- **Misconfigured interfaces or methods**: For example, methods that lack proper return signature.
- **Omissions in model or interface structure**:
  - An interface method defined without a SQL annotation or with incorrect returns triggers errors.
  - Improper use of SQL template annotations may cause malformed output.

### 5.1. Common Error Scenarios

| Symptom                                    | Cause                                               | Resolution                                  |
|--------------------------------------------|----------------------------------------------------|---------------------------------------------|
| "error processing ..."                     | Invalid or inaccessible input path/file            | Verify the input path exists and is readable.
| "Method X.Y: finish method must return..." | Interface method return types incorrect            | Update method to have appropriate return signature (data, error).
| "error render template got error"          | Internal template rendering failed (usually parsing) | Review interface SQL annotations syntax.

### 5.2. Best Practices to Avoid Issues

- Double-check your interface and struct files compile successfully before generation.
- Always include explicit SQL templates in interface method comments.
- Use correct return types:
  - For query methods: `(T, error)` or `([]T, error)`
  - For update/exec methods: `error` alone.
- Use `-o` to control output directory to avoid accidental overwrite of sources.

---

## 6. Step-by-Step Walkthrough

<Steps>
<Step title="Prepare Your Project Files">
Organize your model structs and query interfaces under a single directory or separate files. Interfaces must have raw SQL annotations as comments.
</Step>
<Step title="Install the GORM CLI Tool">
Ensure the CLI is installed and accessible:

```bash
gorm --help
```
Check the `gen` command is listed.
</Step>
<Step title="Run the Generator">
Run the generation command specifying your input and output directories:

```bash
gorm gen -i ./examples -o ./generated
```
</Step>
<Step title="Review Console Output">
Confirm that files are generated without errors; look for lines like:

```
Generating file ./generated/examples/query.go from /path/to/examples/query.go...
```
</Step>
<Step title="Explore the Generated Code">
Inspect the files in your output directory. You will find:

- Query API implementations matching your interfaces.
- Field helper variables for each struct field.

Check that the code fulfills your expectations for method signatures and helper availability.
</Step>
<Step title="Integrate Generated Code">
Import the generated package into your application and start writing queries using the new typed APIs.
</Step>
</Steps>

---

## 7. Troubleshooting

<AccordionGroup title="Common Generation Issues">
<Accordion title="Input path errors">

- **Problem:** `error processing ...` or file not found
- **Cause:** Incorrect `-i` argument, missing files
- **Fix:** Confirm exact relative or absolute file/directory path, verify permissions.

</Accordion>

<Accordion title="Missing SQL annotations">

- **Problem:** Methods missing generation or panics during generation.
- **Cause:** Interface methods lack SQL templates in comments.
- **Fix:** Add SQL templates as comment blocks immediately above methods following the supported template DSL.

</Accordion>

<Accordion title="Return type mismatches">

- **Problem:** Generator panics or shows errors about method return types.
- **Cause:** Return types do not conform to expected patterns.
- **Fix:** Ensure methods return `(T, error)`, `([]T, error)`, or `error` as appropriate.

</Accordion>

<Accordion title="Output directory issues">

- **Problem:** Files overwrite source or are saved in unexpected locations
- **Cause:** Omitting `-o` or setting it to source folder
- **Fix:** Use a dedicated output folder for generated files (e.g., `./generated`). Never point output to source directories.

</Accordion>
</AccordionGroup>

---

## 8. Additional Tips & Best Practices

- **Use configuration for complex projects:** Place `genconfig.Config` literals in your source to finely control inclusion/exclusion, mapping field types, or changing output paths.
- **Keep generated code separate:** To avoid conflicts, always direct generated files outside your source directory.
- **Maintain clean interfaces:** Clear, well-annotated interface methods simplify generation and improve API clarity.
- **Regularly regenerate:** Run the `gorm gen` command after interface or model changes to keep generated APIs and helpers current.

---

## 9. Next Steps

After running your first successful code generation:

- Explore [Using the Generated APIs](https://yourdocs/guides/core-workflows/using-generated) to learn how to integrate in your app.
- Customize generation with [Basic Configuration with genconfig](https://yourdocs/guides/customization-integration/generation-config).
- Troubleshoot as needed with [Troubleshooting Common Issues](https://yourdocs/getting-started/troubleshooting-faq/common-issues).

---