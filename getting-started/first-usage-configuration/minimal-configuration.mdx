---
title: "Optional: Basic Generator Configuration"
description: "Introduces users to the genconfig.Config struct for customization, showing how to control output paths, include/exclude rules, and field mappings. Focuses on just-enough configuration for early success, deferring advanced options to later guides."
---

# Optional: Basic Generator Configuration

This guide introduces you to the `genconfig.Config` struct, the core configuration object you can declare within your Go packages to customize how GORM CLI generates code. This page focuses on just enough configuration to help you start customizing output paths, controlling what code gets generated, and mapping fields — empowering you to influence your generated code with minimal setup.

---

## 1. What Is `genconfig.Config`?

`genconfig.Config` is a package-level configuration struct that GORM CLI automatically detects during generation. By declaring this struct in a package, you can tailor the generator's behavior across:

- **Output location** where generated files are saved.
- **Include/exclude rules** to whitelist or blacklist specific interfaces and structs.
- **Field mappings** to customize how Go types or struct tags map to generated field helpers.
- **File-level scope**, applying configuration per file or package.

This setup lets you adapt generation behavior progressively without complex boilerplate.

---

## 2. Adding Minimal Configuration to Your Package

### Step 1: Declare a `genconfig.Config` Variable

Add a variable using `var _ = genconfig.Config{}` to any Go file in your target package. Here is a minimal example customizing output path and field type mapping:

```go
package examples

import (
    "database/sql"
    "gorm.io/cli/gorm/field"
    "gorm.io/cli/gorm/genconfig"
)

var _ = genconfig.Config{
    // Redirect generated files to a custom directory
    OutPath: "examples/output",

    // Map specific Go types to custom field helper wrappers
    FieldTypeMap: map[any]any{
        sql.NullTime{}: field.Time{},
    },
}
```

### Step 2: Place Your Config File Appropriately

Your `genconfig.Config` must be declared in the same package where the generator scans interfaces and structs. This typically means placing it alongside your models or query interfaces.

### Step 3: Run the Generator Normally

When running `gorm gen`, the generator will auto-discover and apply your configuration without additional flags.

```bash
gorm gen -i ./examples -o ./generated
```

---

## 3. Key Configuration Fields Explained

| Field Name          | Description                                                                                                    |
|---------------------|----------------------------------------------------------------------------------------------------------------|
| `OutPath`           | Overrides the default CLI output directory for generated files within the package. Useful for separating generated code. |
| `FieldTypeMap`      | Maps a Go type instance (key) to a wrapper field helper (value). Example: map `sql.NullTime{}` to `field.Time{}` to generate special predicates. |
| `FieldNameMap`      | Maps a struct tag key (string) like "json" or "date" to a field helper type, overriding `FieldTypeMap`. Great for custom field handling based on tags. |
| `FileLevel`         | When true, applies the config only to the single file it’s declared in rather than the entire package.
|
| `IncludeInterfaces` | Whitelist specifying which interfaces should be processed. Supports shell-style patterns (e.g., "Query*"). Ignored if empty.
|
| `ExcludeInterfaces` | Blacklist specifying interfaces to ignore. Applied after `IncludeInterfaces` filtering.
|
| `IncludeStructs`    | Whitelist specifying structs to generate code for. Supports patterns or type literals.
|
| `ExcludeStructs`    | Blacklist to exclude specific structs, applied after include filtering.

---

## 4. Practical Examples

### Excluding Specific Interfaces and Structs

Use the `ExcludeInterfaces` and `ExcludeStructs` to skip unwanted code generation in specific packages:

```go
package nested

import "gorm.io/cli/gorm/genconfig"

var _ = genconfig.Config{
    FileLevel: false,
    ExcludeInterfaces: []any{"I3"},
    ExcludeStructs:    []any{"S3"},
}
```

In this example, the generator skips interfaces named `I3` and structs named `S3` across the package subtree.

### Using Include Whitelists

To generate code only for a select set of interfaces and structs, you might write:

```go
package whitelist

import "gorm.io/cli/gorm/genconfig"

var _ = genconfig.Config{
    IncludeInterfaces: []any{"I1"},
    IncludeStructs:    []any{"S1"},
}
```

This restricts generation strictly to interfaces named `I1` and structs named `S1`.

### Mapping Field Names via Struct Tags

Map struct field tags to custom field helpers to control generated predicates, as shown:

```go
var _ = genconfig.Config{
    FieldNameMap: map[string]any{
        "json": JSON{},    // map fields tagged `gen:"json"` to custom JSON helper
        "date": field.Time{},
    },
}
```

Add the tag to your struct fields:

```go
type User struct {
    Profile string `gen:"json"`
}
```

You then gain customized handling of those fields by the generator.

---

## 5. Best Practices & Tips

- **Start Simple:** Begin by only setting `OutPath` or basic include/exclude to get familiar before adding complexity.
- **Be Explicit:** Prefer clear include/exclude patterns to avoid unexpected generated code.
- **Use Typed Instances:** Map Go types to field helpers with type instances (e.g., `sql.NullTime{}`) for precision.
- **File-Level Configurations:** Use `FileLevel: true` to apply settings narrowly when needed.
- **Organize Configs:** You can have multiple `genconfig.Config` declarations per package or per file for fine-grained control.

---

## 6. What Happens if You Don't Configure?

By default, GORM CLI generates for all detected interfaces and structs to the CLI output directory (`./g`). Configuration is optional but recommended as your codebase grows to minimize noise, control output structure, and enable custom field behavior.

---

## 7. Troubleshooting Configuration

<AccordionGroup title="Common Issues & Solutions">
<Accordion title="Configuration Not Picking Up">
Make sure your `genconfig.Config` variable is declared at the package level (not inside functions) and imported with the exact paths. The file must reside in the package scanned by the generator.
</Accordion>
<Accordion title="Include and Exclude Conflicts">
Check whitelist and blacklist definitions; if `Include*` is non-empty, `Exclude*` is ignored for that kind. Use patterns carefully to avoid unintended skips.
</Accordion>
<Accordion title="Custom Field Helpers Not Applied">
Verify that your field helper types implement the expected interfaces and are imported correctly. Mapping keys in `FieldTypeMap` and `FieldNameMap` must be precise.
</Accordion>
</AccordionGroup>

---

## 8. Next Steps

Once you have set up basic configuration:

- Proceed to [Run the Generator](https://docs.gorm.io/getting-started/first-usage-configuration/run-generator) to generate code with your configuration in effect.
- Learn how to [Use the Generated APIs](https://docs.gorm.io/getting-started/first-usage-configuration/using-generated-code) leveraging your customized output.
- Explore advanced customization in [Customizing Generation with `genconfig.Config`](https://docs.gorm.io/guides/advanced-usage-best-practices/customizing-generation).

---

## 9. Reference: `genconfig.Config` Structure

```go
type Config struct {
    OutPath string
    FieldTypeMap map[any]any
    FieldNameMap map[string]any
    FileLevel bool
    IncludeInterfaces []any
    ExcludeInterfaces []any
    IncludeStructs []any
    ExcludeStructs []any
}
```

Declare this struct in your source to control generation.

---

## 10. Example Complete Configuration File

```go
package examples

import (
    "database/sql"
    "gorm.io/cli/gorm/field"
    "gorm.io/cli/gorm/genconfig"
)

var _ = genconfig.Config{
    OutPath: "examples/output",
    FieldTypeMap: map[any]any{
        sql.NullTime{}: field.Time{},
    },
    FieldNameMap: map[string]any{
        "json": JSON{},
        "date": field.Time{},
    },
    IncludeInterfaces: []any{"Query*"},
    ExcludeInterfaces: []any{"*Deprecated*"},
    IncludeStructs: []any{"User", "Account*"},
    ExcludeStructs: []any{"*DTO"},
    FileLevel: false,
}
```

This example balances output customization, field mappings, and selective generation.


---

For more detailed examples, see the source [configuration samples](https://github.com/go-gorm/cli/tree/main/examples) in the official repo.


---

# Summary

This page equips you to declare and use the `genconfig.Config` struct for basic but effective customization of GORM CLI code generation. You'll learn how to control output directories, finely include or exclude specific interfaces and structs, and map Go types or field tags to custom field helpers. By starting with minimal configuration, you unlock tailored generator behavior to fit your project's structure and coding standards, setting a strong foundation for more advanced customization later.

For practical next steps, see the guides on running the generator with your config and using the generated APIs.

---

# See Also

- [Prepare Your Project (Project Structure)](/getting-started/first-usage-configuration/project-structure)
- [Generate Code: Your First Run](/getting-started/first-usage-configuration/run-generator)
- [Use the Generated APIs](/getting-started/first-usage-configuration/using-generated-code)
- [Customizing Generation with genconfig.Config](/guides/advanced-usage-best-practices/customizing-generation)
- [GORM CLI GitHub Repository](https://github.com/go-gorm/cli)
