---
title: "Troubleshooting Common Setup Issues"
description: "Solutions and diagnostic steps for typical stumbling blocks: Go version mismatches, missing dependencies, misconfigured paths, and failed code generation."
---

# Troubleshooting Common Setup Issues

This guide helps you quickly diagnose and resolve frequent problems encountered during GORM CLI setup and initial use. Whether facing Go version incompatibilities, missing dependencies, misconfigured file paths, or failed code generation, follow these step-by-step solutions to get back on track.

---

## 1. Verifying Go Environment Compatibility

GORM CLI requires Go version 1.18 or later due to its use of generics. Using an unsupported Go version is a leading cause of build errors.

### Steps to verify and fix:

1. **Check your current Go version:**

```bash
go version
```

- Confirm the output shows `go version go1.18` or newer.

2. **Upgrade Go if needed:**

- Download from https://golang.org/dl/ or use your platform package manager to upgrade.

3. **Verify Go module support:**

- Ensure your project uses Go modules (`go.mod` file present).
- Run:

```bash
go mod tidy
```

- This fetches and tidies dependencies.

<Tip>
Using an outdated Go version leads to cryptic errors during code generation. Always start troubleshooting by verifying your Go version.
</Tip>

---

## 2. Confirming GORM CLI Installation

Make sure the CLI binary is properly installed and your shell can execute it.

### Installation check:

```bash
gorm version
```

- If `command not found` occurs, install GORM CLI:

```bash
go install gorm.io/cli/gorm@latest
```

- Ensure `$GOPATH/bin` or `$HOME/go/bin` is in your system `PATH`.

### Troubleshooting installation:

- If you installed but still get errors, restart your terminal or run:

```bash
export PATH="$PATH:$(go env GOPATH)/bin"
```

- Verify installation again with `gorm version`.

<Warning>
Using an older GORM CLI version may cause unexpected behavior. Regularly update with `go install gorm.io/cli/gorm@latest`.
</Warning>

---

## 3. Validating Input and Output Paths

Code generation depends on correct source input paths and valid output directories.

### Confirm input path:

- Make sure the `-i` / `--input` flag points to a valid Go source file or directory containing your query interfaces.

```bash
gorm gen -i ./examples/query.go -o ./generated
```

- If the CLI reports `error processing <input>: file not found` or similar, verify the input path.

### Confirm output directory:

- If you specify the `-o` / `--output` flag, confirm the directory exists or can be created.
- The CLI attempts to create missing directories but will error on permissions.

### Fixes for path issues:

- Use absolute paths to avoid ambiguity.
- Check directory permissions if directory creation fails.

<Tip>
Avoid trailing slashes or relative paths that may confuse path resolution; explicit absolute paths often reduce errors.
</Tip>

---

## 4. Handling Missing Dependencies or Imports

If your code references external packages or dependencies, failures may occur during parsing or generation.

### Steps to resolve:

- Run `go mod tidy` in your project to fetch all required modules.

```bash
go mod tidy
```

- Ensure your interfaces and models import required packages properly.

- In some cases, verify your Go environment proxy or networking setup if dependencies fail to download.

<Note>
GORM CLI internally parses your Go files' AST, so unresolved imports or build failures in your code will cause the generator to fail.
</Note>

---

## 5. Common Code Generation Errors and Fixes

### Error: "finish method must return at least one value"

- Your interface method with a raw SQL annotation must have a return value, typically including an `error`.

Example:

```go
GetByID(id int) (T, error)  // Correct
GetByID(id int) error       // Also valid
GetByID(id int)             // Invalid, triggers error
```

Fix the interface method definition accordingly.

### Error: "maximum number of return values allowed is 2"

- Methods must return either one value (an error) or two values (result, error).

Example:

```go
GetByID(id int) (User, error)  // Valid
GetByID(id int) (User, int, error)  // Invalid
```

### Error: "failed to format generated code"

- The generator uses `golang.org/x/tools/imports` to format the output.
- This can happen if your code has syntax errors.

Fix your source files for correct syntax or temporarily disable the formatting step (not recommended).

### Error: "no interfaces or structs found"

- The generator did not detect any code eligible for generation in the specified path.

Fixes:

- Confirm your Go files contain correctly declared interfaces or structs.
- Check config `Include` / `Exclude` filters; they may be too restrictive.

---

## 6. Debugging with Verbose Output

You can add `-v` or similar flags as custom additions in your workflow for more detailed logs.

- Currently, GORM CLI does not support an explicit verbose flag in standard CLI arguments.
- For deeper troubleshooting, inspect your Go source files for incorrect syntax or improper doc comments.

---

## 7. Example: End-to-End Troubleshooting

Suppose you run:

```bash
gorm gen -i ./examples -o ./generated
```

And receive:

```
error processing ./examples: can't parse file "./examples/query.go": ...
```

1. Check Go version (must be â‰¥ 1.18).
2. Confirm `./examples/query.go` exists.
3. Inspect `query.go` for interface methods missing return values.
4. Run `go mod tidy` and ensure no dependency issues.
5. Check file and directory permissions.
6. Retry generation after corrections.

---

## 8. Getting Help and Support

- Consult the [Installation Instructions](/getting-started/setup-and-installation/installation-instructions) for environment setup.
- Review [Basic Configuration](/getting-started/setup-and-installation/basic-configuration) for configuration details.
- Check interface declarations in [Defining Models and Query Interfaces](/getting-started/first-code-generation/defining-models-and-interfaces).
- Inspect command usage in [Running the Code Generator](/getting-started/first-code-generation/running-gorm-cli-gen).
- Visit the GitHub repository for issues or discussions: [GORM CLI GitHub](https://github.com/go-gorm/cli).

<Tip>
Creating minimal reproducible examples helps when seeking community or official support.
</Tip>

---

## Summary Table of Common Issues

| Issue                             | Cause                | Resolution                                 |
|----------------------------------|----------------------|--------------------------------------------|
| Go version too old               | Go < 1.18            | Upgrade Go to 1.18+                        |
| CLI command not found            | PATH or install issue | Install `gorm` CLI and configure PATH    |
| Input file/directory not found   | Wrong path           | Check and set correct `-i` path           |
| Output directory not creatable   | Permissions          | Adjust permissions or choose valid path   |
| Interface method lacks returns   | Invalid interface    | Add proper return values (include `error`)|
| Too many return values           | APIs misdefined       | Use maximum 2 returns, second must be error|
| Imports missing or unresolved    | Dependencies missing  | Run `go mod tidy`                          |

---