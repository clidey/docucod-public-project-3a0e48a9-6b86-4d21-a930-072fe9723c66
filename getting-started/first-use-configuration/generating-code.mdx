---
title: "Generating Code"
description: "Explore the code generation workflow using GORM CLI. This page covers basic commands and demonstrates how to invoke the code generator to produce discovery-ready APIs and helpers."
---

# Generating Code with GORM CLI

Explore how to run GORM CLI's code generation process to produce type-safe query APIs and model-driven field helpers from your Go interfaces and models. This guide walks you through the essential commands, configuration options, and workflows to bring your raw SQL interfaces and Go structs to life with discovery-ready generated code.

---

## 1. Overview of Code Generation Workflow

The heart of GORM CLI lies in transforming your interface definitions annotated with SQL templates and your model structs into robust, type-safe Go APIs. These generated APIs help you write fluent, compile-time-safe queries and updates.

This page focuses on the **invocation and control of the code generator** using the CLI tool, explaining the commands and flags you need to run.

## 2. Prerequisites

Before generating code, ensure:

- You have installed GORM CLI as described in the [CLI Installation guide](cli-installation).
- Your Go environment is set up with Go 1.18 or higher.
- You have defined your query interfaces with SQL template comments.
- Model structs are defined in the same or a related package.

<Tip>
Having well-structured interfaces and models beforehand is critical. See [Writing Your First Query Interface and Model](writing-query-interfaces-and-models) for details.
</Tip>

## 3. Running the `gorm gen` Command

The primary command to generate code from your annotated Go source files is:

```bash
gorm gen -i <input> -o <output>
```

### 3.1 Required Flags

- `-i`, `--input`
  - Path to the Go interface file or directory containing interfaces with SQL annotations.
  - Mandatory.

### 3.2 Optional Flags

- `-o`, `--output`
  - Directory where generated code files will be placed.
  - Defaults to `./g` if not specified.

### 3.3 Example Usage

Assuming your interfaces and models are defined under `./examples`:

```bash
gorm gen -i ./examples -o ./generated
```

This command processes all Go files in `./examples`, generates the necessary Go source files, and writes them into `./generated`, keeping package structure intact.

<Tip>
If you omit `-o`, the generated code lands under `./g` by default.
</Tip>

## 4. Understanding the CLI Output

When you run the generator, you'll see output similar to:

```
Generating file generated/query.go from examples/query.go...
Generating file generated/models.go from examples/models.go...
```

Each Go file corresponds to a processed source file, containing:

- Concrete implementations of your query interfaces.
- Model-driven field helpers reflecting your struct fields and associations.

## 5. Basic Configuration Overrides

Generation behavior can be customized by defining a package-level `genconfig.Config` variable with options such as:

- **OutPath**: Override output directory per package.
- **FieldTypeMap** and **FieldNameMap**: Map raw Go struct types or tags to custom field helpers.
- **IncludeInterfaces** and **ExcludeInterfaces**: Control which interfaces are included/excluded by name patterns or types.
- **IncludeStructs** and **ExcludeStructs**: Control which structs are generated.

### 5.1 Example Config Usage

```go
var _ = genconfig.Config{
    OutPath: "examples/output",
    IncludeInterfaces: []any{"Query*"},
    FieldNameMap: map[string]any{
        "json": JSON{},
    },
}
```

Place this snippet in a source file in the package being generated, and the CLI will automatically pick it up on generation.

See [Basic Configuration (Optional)](configuration-basics) for deeper guidance.

## 6. Common Workflow Steps

Follow these steps to generate your code:

<Steps>
<Step title="Write Your Interfaces and Models">
Create Go interfaces with SQL template methods and define model structs with fields and tags.
</Step>
<Step title="Run the Generator">
Execute `gorm gen -i <input_path> -o <output_path>` to process and generate Go code.
</Step>
<Step title="Add Generated Code to Your Project">
Import the generated packages and use the generated query APIs and field helpers in your application.
</Step>
</Steps>

## 7. Example: Generate from Sample Interfaces

Given your interface file at `examples/query.go`, run:

```bash
gorm gen -i examples/query.go -o generated
```

After generation, your project will have a new `generated/` directory with:

- Implementations of interfaces, e.g., `Query[T]`.
- Strongly typed field helpers for queries and updates.

You can immediately import and start using:

```go
user, err := generated.Query[User](db).GetByID(ctx, 123)
```

## 8. Troubleshooting Generation

<AccordionGroup title="Common Issues and Solutions">
<Accordion title="Missing or Incorrect Generated Files">
- Verify the input path is correct and points to interface-containing files.
- Check package-level configs for exclusions.
- Confirm your interfaces have valid SQL template annotations.
</Accordion>
<Accordion title="Import or Compilation Errors in Generated Code">
- Ensure your model structs and query interfaces are properly declared.
- Review configuration mappings for custom types.
- Run `go fmt` or IDE Go tools to check syntax issues.
</Accordion>
<Accordion title="Command Fails With Flags Error">
- Check that you supplied the required `-i` flag.
- Use `gorm gen --help` to view flag requirements.
</Accordion>
</AccordionGroup>

## 9. Next Steps

- Visit [Using Generated APIs](using-generated-apis) to learn how to leverage generated query methods and field helpers.
- Explore [Basic Configuration (Optional)](configuration-basics) to tailor generation to your project's needs.
- For a full introductory development journey, continue with [Writing Your First Query Interface and Model](writing-query-interfaces-and-models).

---

## Additional Resources

- [GORM CLI GitHub Repository](https://github.com/go-gorm/cli) for source code and issue tracking.
- [Installation Guide](cli-installation) to set up the CLI tool.
- [Troubleshooting Your First Run](troubleshooting-first-run) for help with common roadblocks.

---

_For detailed examples and configuration options, see the GORM CLI README and guides linked throughout this documentation._