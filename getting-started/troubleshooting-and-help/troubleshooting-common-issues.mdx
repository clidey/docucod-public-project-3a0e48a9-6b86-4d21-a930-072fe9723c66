---
title: "Troubleshooting Common Issues"
description: "Find solutions to frequently encountered issues during installation, configuration, and initial code generationâ€”such as Go version mismatches, missing dependencies, and permission errors."
---

# Troubleshooting Common Issues

When setting up and using GORM CLI, you might encounter common problems related to installation, configuration, or running the initial code generation. This guide walks you through practical solutions for frequent errors including Go version mismatches, missing dependencies, permission restrictions, and misconfigurations to ensure a smooth onboarding experience.

---

## 1. Common Installation Errors

### 1.1 Go Version Mismatch

GORM CLI requires Go 1.18 or later to support generics which are essential for type-safe code generation.

**Symptoms:**
- Installation fails with errors mentioning unsupported syntax or generics use.
- `go install gorm.io/cli/gorm@latest` returns an error about Go version.

**Solution:**
1. Check your Go version:

```bash
go version
```

2. If it is below 1.18, update Go from the [official Go downloads page](https://go.dev/dl/).

3. Verify your `$GOPATH` and environment to ensure the new Go version is used.

<Tip>
Always ensure your development environment's Go executable is the version your shell uses, especially if multiple versions are installed.
</Tip>

---

### 1.2 Missing or Outdated Dependencies

Since GORM CLI depends on GORM ORM and standard Go modules, outdated or missing dependencies can cause errors.

**Symptoms:**
- Errors during code generation complaining about missing packages or types.
- Build failures citing packages like `gorm.io/gorm` not found.

**Solution:**
1. Initialize modules in your project root if not done:

```bash
go mod init your_module_name
```

2. Ensure dependencies are up to date:

```bash
go get -u gorm.io/gorm
```

3. Run:

```bash
go mod tidy
```

to clean and verify dependencies.

4. Check the GORM version compatibility; GORM CLI works properly with GORM ORM stable releases supporting Go 1.18+.

<Note>
If you work behind a proxy or firewall, ensure Go module proxy settings allow fetching dependencies.
</Note>

---

### 1.3 Permission Denied Errors

If you run installation or code generation commands and encounter permission errors, this usually relates to write access on directories.

**Symptoms:**
- Errors like `cannot create file`, `permission denied`, or `EACCES`.

**Solution:**
1. Check directory ownership and permissions where the tool tries to write output (
usually your specified `-o` output directory).

2. Adjust permissions or choose an output directory where you have write access:

```bash
chmod -R u+w /path/to/output
```

3. Avoid running commands with `sudo` unless absolutely necessary.

4. When installing via `go install`, ensure your `$GOPATH/bin` directory is writable.

---

## 2. Configuration & Setup Issues

### 2.1 Code Generator Fails to Detect `genconfig.Config`

If you have defined a generation configuration in your package but it is ignored:

**Possible Causes:**
- The `genconfig.Config` variable is not declared at package level.
- The config uses incorrect struct or import paths.
- The config file is excluded or misplaced.

**Solution:**
1. Declare the configuration as a **package-level variable** like this:

```go
var _ = genconfig.Config{
    OutPath: "examples/output",
    IncludeInterfaces: []any{"Query*"},
}
```

2. Import `gorm.io/cli/gorm/genconfig` correctly.

3. Verify the config file is in the same directory or package as your interfaces or models.

<Tip>
Set `FileLevel: false` to apply config to the whole package or `true` for just the current file.
</Tip>

---

### 2.2 Output Directory Not Created or Empty

If the generation command completes but no files appear:

**Diagnosis:**
- Misconfigured `OutPath` in `genconfig.Config`.
- No interfaces or structs matched by your filters.

**Solution:**
1. Verify your `OutPath` is an existing path or accessible location (the generator will create subdirs but not intermediate missing roots).

2. Confirm your config filters like `IncludeInterfaces` or `ExcludeStructs` allow intended types to be included.

3. Remove or relax filters temporarily to verify generation works.

4. Run generation with verbose or debug logging to check which files are processed.

---

## 3. Common Code Generation Issues

### 3.1 `finish` Methods Missing Returns or Error

GORM CLI expects certain method signatures in your interface to have specific return types.

**Symptoms:**
- Panic or errors during generation about methods missing error as a return value.

**Cause:**
- Methods with SQL templates must return either an error or (value, error).

**Solution:**
1. Modify your interface methods as follows:

```go
// Correct completion method
UpdateUser(user User, id int) error

// Correct fetch method
GetByID(id int) (User, error)
```

2. Ensure your comments with SQL templates correspond with signatures.

---

### 3.2 Unexpected Filtering of Interfaces or Structs

Filters in your generation config may unintentionally exclude needed interfaces or structs.

**Symptoms:**
- No generated code for your interfaces or models.

**Cause:**
- Using shell-style patterns in `IncludeInterfaces` or `ExcludeStructs` that don't match actual names or using type literals incorrectly.

**Solution:**
- Review and test your patterns. For example:

```go
IncludeInterfaces: []any{"Query*"},
ExcludeInterfaces: []any{"*Deprecated*"},
IncludeStructs: []any{"User", models.User{}},
```

- Remember `Include*` filters take priority over `Exclude*`.

---

### 3.3 Template Parsing or Syntax Errors

SQL templates in interface method comments must be valid and parsable by the generator.

**Symptoms:**
- Errors about SQL parsing or unexpected tokens.

**Causes:**
- Improper use of DSL directives (e.g., `{{where}}`, `{{set}}`) or syntax mistakes.

**Solution:**
1. Refer to the [Template DSL documentation](https://gorm.io/cli/gorm#template-dsl) to confirm correct syntax.
2. Avoid mixing unsupported Go constructs or complex template expressions.
3. Test smaller SQL templates first.

---

## 4. General Troubleshooting Tips

- **Run Tests:** Use the provided test scripts (e.g., `scripts/test_all.sh`) to verify environment health.
- **Verbose Output:** Use `gorm gen -v` or similar flags if available to troubleshoot.
- **Clean Cache:** Delete generated directories and try again.
- **Consult Logs:** Look for error messages in terminal output.
- **Update Dependencies:** Keep your tools and modules up to date.

---

## 5. When to Get Help

If you encounter issues not addressed here:

- Check the [GitHub issues](https://github.com/go-gorm/cli/issues) for similar problems.
- Consult [GORM CLI documentation home](https://gorm.io/cli/gorm).
- Refer to related guides on:
  - [Prerequisites & Requirements](/getting-started/setup-and-installation/prerequisites)
  - [Installation Guide](/getting-started/setup-and-installation/installation-guide)
  - [Configuration Basics](/getting-started/setup-and-installation/configuration-basics)
  - [Running the Code Generator](/getting-started/first-run-and-validation/run-code-generation)

---

## 6. Summary

This troubleshooting guide equips you to resolve the most typical problems during installation, configuration, and code generation with GORM CLI. By following the targeted solutions and best practices, you will accelerate your setup process and unlock the full benefits of type-safe, fluent querying in your Go projects.

---

<CardGroup cols={2}>
<Card title="Common Errors">
- Go version < 1.18 
- Missing dependencies
- Permission denied
</Card>
<Card title="Helpful Commands">
```bash
# Confirm Go version
go version

# Verify dependencies
go mod tidy

# Run tests
scripts/test_all.sh
```
</Card>
</CardGroup>