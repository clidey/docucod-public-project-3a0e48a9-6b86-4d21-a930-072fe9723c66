---
title: "Optional: Project Configuration"
description: "Discover how and when to introduce a `genconfig.Config` for customization of output paths and field mappings. Includes a sample config and file placement advice."
---

# Optional: Project Configuration

Discover how to enhance and customize GORM CLI generation by declaring a `genconfig.Config` in your project. This guide explains when and why to introduce configuration, demonstrates a practical example, and offers best practices for file placement and scope control.

---

## Why Use `genconfig.Config`?

GORM CLI works out of the box without additional configuration; however, many projects benefit from tailored generation to fit unique needs. By declaring a `genconfig.Config`:

- You can override the default output directory for generated code on a per-package or per-file basis.
- Map Go types or field tags to custom field helpers to extend or modify generated wrappers.
- Filter which interfaces and structs are included or excluded in generation using patterns or explicit types.
- Control the granularity of configuration with the option to apply per file or entire package.

These customizations empower you to align your generated code with project structures, custom types, and coding standards seamlessly.

---

## How to Declare a Configuration

1. **Create a Go file in the package where you want to control generation.** This file can be named anything, for example `config.go`.

2. **Import the necessary packages:**

```go
import (
    "database/sql" // for example types
    "gorm.io/cli/gorm/field"
    "gorm.io/cli/gorm/genconfig"
)
```

3. **Declare a package-level variable of type `genconfig.Config`.** Assign your desired overrides and mappings.

```go
var _ = genconfig.Config{
    // Override output path for generated files in this package
    OutPath: "examples/output",

    // Map specific Go types to field helpers so generated fields use these wrappers
    FieldTypeMap: map[any]any{
        sql.NullTime{}: field.Time{},
    },

    // Map custom gen tag names to field helpers for fine-grained control
    FieldNameMap: map[string]any{
        "date": field.Time{}, // fields tagged `gen:"date"` use this helper
        "json": JSON{},       // custom JSON helper example
    },

    // Control inclusion and exclusion: whitelist and blacklist filters
    IncludeInterfaces: []any{"Query*"},      // only interfaces starting with 'Query'
    ExcludeInterfaces: []any{"*Deprecated*"}, // exclude interfaces with 'Deprecated' in the name
    IncludeStructs: []any{"User", "Account*"}, // structs with these patterns
    ExcludeStructs: []any{"*DTO"},

    // FileLevel false means this config applies to the whole package
    FileLevel: false,
}
```

---

## Practical Example

Here is a minimal example demonstrating a common config setup:

```go
package examples

import (
    "database/sql"
    "gorm.io/cli/gorm/field"
    "gorm.io/cli/gorm/genconfig"
)

// Configure generation output and custom field mappings for this package
var _ = genconfig.Config{
    OutPath: "examples/output",
    FieldTypeMap: map[any]any{
        sql.NullTime{}: field.Time{},
    },
    FieldNameMap: map[string]any{
        "date": field.Time{},
        "json": JSON{},
    },
    IncludeStructs: []any{}, // Empty slice means no whitelist (generate all)
}
```

This config tells the generator to:

- Write generated code files to `examples/output` instead of the default `./g`.
- Use `field.Time{}` helper wrappers for fields typed `sql.NullTime` or tagged `gen:"date"`.
- Use a custom `JSON{}` helper for any field tagged `gen:"json"` (requires you define `JSON` helper type).

---

## Config Placement and Scope

- **Place the `genconfig.Config` declaration file in the package directory containing the models or query interfaces.** The generator will discover this automatically.
- You can create multiple config files in different packages to apply different settings wherever needed.
- When multiple configs apply, the generator merges them, giving priority to the nearest enclosing file or package config.
- If you enable `FileLevel: true`, the configuration applies only to the specific file defining it, not the entire package.

---

## Detailed Configuration Fields

| Field Name         | Description                                                                                          |
|--------------------|--------------------------------------------------------------------------------------------------|
| `OutPath`          | Overrides the output directory for generated files in the package or file where config is declared|
| `FieldTypeMap`     | Maps Go types (e.g., `sql.NullTime{}`) to custom field helpers (e.g., `field.Time{}`)              |
| `FieldNameMap`     | Maps `gen` tag field names (strings) to custom field helpers                                     |
| `FileLevel`        | Boolean flag; if `true`, applies config per-file instead of whole package                        |
| `IncludeInterfaces`| Optional whitelist of interface type patterns to generate (shell-style patterns or type literals) |
| `ExcludeInterfaces`| Optional blacklist of interfaces to exclude from generation (applied after `IncludeInterfaces`)  |
| `IncludeStructs`   | Optional whitelist of struct type patterns or literals to include in generation                   |
| `ExcludeStructs`   | Optional blacklist of struct types to exclude (applied after `IncludeStructs`)                   |

---

## Common Usage Patterns and Tips

- **Override output path** per package or major directory to organize generated code alongside your source.
- Use `FieldTypeMap` to convert common nullable or wrapper types into richer field helpers automatically.
- Use `FieldNameMap` to enable converter usage based on struct tags, e.g., mapping `json` or `date` tags.
- Whitelist interfaces or structs if your package contains many unrelated types to reduce noise.
- Blacklist deprecated or auxiliary interfaces and structs to keep generated code clean.
- Combine inclusion and exclusion filters carefully: if `IncludeInterfaces` or `IncludeStructs` are specified, the generator ignores exclusion lists for those types.

---

## Troubleshooting Configuration Issues

<Tip>
If your changes to `genconfig.Config` seem to have no effect:

- Ensure your config file is in the correct package directory where your models or query interfaces reside.
- Check that the variable is declared at package level and assigned directly, not inside functions.
- Verify that your patterns for includes/excludes match the full package path or type name.
- Remember the generator gives priority to the closest config discovered by filepath prefix when multiple configs exist.
</Tip>

If you encounter unexpected generated code types, validate your `FieldTypeMap` and `FieldNameMap` correctly refer to existing helper types.

---

## Summary

Declaring a `genconfig.Config` is an optional yet powerful way to customize your GORM CLI code generation:

- Direct the output location of generated files
- Map complex or custom data types to specialized field helpers
- Filter which interfaces and structs are included or excluded
- Scope configuration either per package or per file

Use configuration to tailor GORM CLI outputs for your projectâ€™s architecture and coding standards, improving maintainability and clarity.

---

## Related Documentation

- [Define Models and Query Interfaces](/getting-started/first-gen-workflow/define-models-interfaces) explains the source of generated interfaces and structs.
- [Generate Code](/getting-started/first-gen-workflow/generate-code) details how generation uses configuration.
- [Troubleshooting Common Issues](/getting-started/config-troubleshooting/troubleshooting-common-issues) helps address typical config problems.
- [Introduction to GORM CLI](/overview/introduction/what-is-gorm-cli) provides foundational knowledge about this tool.

---

## Example `config.go` File

```go
package examples

import (
    "database/sql"
    "gorm.io/cli/gorm/field"
    "gorm.io/cli/gorm/genconfig"
)

var _ = genconfig.Config{
    OutPath: "examples/output",
    FieldTypeMap: map[any]any{
        sql.NullTime{}: field.Time{},
    },
    FieldNameMap: map[string]any{
        "date": field.Time{},
        "json": JSON{},
    },
    IncludeInterfaces: []any{"Query*"},
    ExcludeInterfaces: []any{"*Deprecated*"},
    IncludeStructs: []any{"User"},
    ExcludeStructs: []any{"*DTO"},
    FileLevel: false,
}
```

This config file will guide the generator to produce exactly the code you need, no more, no less.

---

Thank you for choosing GORM CLI! This configuration flexibility enables your workflows to scale gracefully.

---